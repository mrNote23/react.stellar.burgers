{"version":3,"file":"static/js/468.7426ece5.chunk.js","mappings":"+MAEaA,EAAU,SAAIC,GACzB,IAAAC,GAAwBC,EAAAA,EAAAA,UAAYF,GAAcG,GAAAC,EAAAA,EAAAA,GAAAH,EAAA,GAA3CI,EAAIF,EAAA,GAAEG,EAAOH,EAAA,GACpBI,GAAgCL,EAAAA,EAAAA,WAAkB,GAAMM,GAAAJ,EAAAA,EAAAA,GAAAG,EAAA,GAAjDE,EAAQD,EAAA,GAAEE,EAAWF,EAAA,IAE5BG,EAAAA,EAAAA,YAAU,WACRD,EAAYE,KAAKC,UAAUR,KAAUO,KAAKC,UAAUb,GACtD,GAAG,CAACK,EAAML,IAWV,MAAO,CAAEK,KAAAA,EAAMC,QAAAA,EAASQ,SATP,SAACC,GAChB,IAAAC,EAAwBD,EAAEE,OAAlBC,EAAIF,EAAJE,KAAMC,EAAKH,EAALG,MACdb,GAAQ,SAACc,GAAI,OAAAC,EAAAA,EAAAA,IAAAA,EAAAA,EAAAA,GAAA,GAAWD,GAAI,IAAAE,EAAAA,EAAAA,GAAA,GAAGJ,EAAOC,GAAK,GAC7C,EAMkCI,UAJhB,WAChBjB,EAAQN,EACV,EAE6CS,SAAAA,EAC/C,C,yHCyEA,UA/EqB,WACnB,IAAAe,GAAsCzB,EAAAA,EAAAA,GAAQ,CAC5CmB,KAAM,GACNO,MAAO,GACPC,SAAU,KAHJrB,EAAImB,EAAJnB,KAAMS,EAAQU,EAARV,SAAUS,EAASC,EAATD,UAKlBI,GAAWC,EAAAA,EAAAA,MAEjBC,GAAwCC,EAAAA,EAAAA,KAAe,SAACC,GAAK,OAAKA,EAAMC,IAAI,IAApEC,EAAWJ,EAAXI,YAAaC,EAAOL,EAAPK,QAASC,EAAKN,EAALM,MAExBC,GAAWC,EAAAA,EAAAA,OAEjB1B,EAAAA,EAAAA,YAAU,WACR,OAAO,WACLgB,GAASW,EAAAA,EAAAA,MACX,CACF,GAAG,CAACX,KAEJhB,EAAAA,EAAAA,YACE,WACEuB,GAAWE,EAASG,EAAAA,GAAAA,MACN,KAAVJ,GACFZ,GAEJ,GAEA,CAACY,EAAOD,IAQV,OACEM,EAAAA,EAAAA,KAACC,EAAAA,SAAQ,CAAAC,UACPC,EAAAA,EAAAA,MAAA,QACEC,UAAU,4DACVC,SATW,SAAC9B,GAChBA,EAAE+B,iBACFnB,GAASoB,EAAAA,EAAAA,IAAa1C,GACxB,EAMyBqC,SAAA,EAEnBF,EAAAA,EAAAA,KAAA,KAAGI,UAAU,iCAAgCF,SAAC,uEAC7CP,IACCK,EAAAA,EAAAA,KAAA,KAAGI,UAAU,mDAAkDF,SAC5DP,KAGLK,EAAAA,EAAAA,KAACQ,EAAAA,GAAK,CACJC,WAAW,OACXC,YAAY,qBACZhC,KAAK,OACLC,MAAOd,EAAKa,KACZJ,SAAUA,EACVqC,WAAS,KAEXX,EAAAA,EAAAA,KAACY,EAAAA,GAAU,CAAClC,KAAK,QAAQC,MAAOd,EAAKoB,MAAOX,SAAUA,KACtD0B,EAAAA,EAAAA,KAACa,EAAAA,GAAa,CACZJ,WAAW,MACX/B,KAAK,WACLC,MAAOd,EAAKqB,SACZZ,SAAUA,KAEZ0B,EAAAA,EAAAA,KAACc,EAAAA,GAAM,CACLC,SAAS,SACTC,KAAK,UACLC,KAAK,SACLC,SAAUzB,EAAYS,SACvB,kHAIDC,EAAAA,EAAAA,MAAA,KAAGC,UAAU,wDAAuDF,SAAA,CAAC,4HAEnEF,EAAAA,EAAAA,KAACmB,EAAAA,GAAI,CAACC,GAAIrB,EAAAA,GAAAA,MAAWG,SAAC,0CAKhC,C","sources":["hooks/use-form.ts","pages/auth-pages/page-register/page-register.tsx"],"sourcesContent":["import { ChangeEvent, useEffect, useState } from \"react\";\n\nexport const useForm = <T>(initialFields: T) => {\n  const [form, setForm] = useState<T>(initialFields);\n  const [modified, setModified] = useState<boolean>(false);\n\n  useEffect(() => {\n    setModified(JSON.stringify(form) !== JSON.stringify(initialFields));\n  }, [form, initialFields]);\n\n  const onChange = (e: ChangeEvent<HTMLInputElement>) => {\n    const { name, value } = e.target;\n    setForm((prev) => ({ ...prev, [name]: value }));\n  };\n\n  const resetForm = () => {\n    setForm(initialFields);\n  };\n\n  return { form, setForm, onChange, resetForm, modified };\n};\n","import { FormEvent, Fragment, useEffect } from \"react\";\nimport { Link, useNavigate } from \"react-router-dom\";\nimport {\n  Button,\n  EmailInput,\n  PasswordInput,\n  Input,\n} from \"@ya.praktikum/react-developer-burger-ui-components\";\n\nimport { useForm } from \"@hooks/use-form\";\nimport { useAppDispatch, useAppSelector } from \"@store/store\";\nimport { resetError, userRegister } from \"@store/reducers/user-reducer\";\nimport { PATH } from \"@config/constants\";\n\nconst PageRegister = () => {\n  const { form, onChange, resetForm } = useForm({\n    name: \"\",\n    email: \"\",\n    password: \"\",\n  });\n  const dispatch = useAppDispatch();\n\n  const { userLoading, success, error } = useAppSelector((store) => store.user);\n\n  const navigate = useNavigate();\n\n  useEffect(() => {\n    return () => {\n      dispatch(resetError());\n    };\n  }, [dispatch]);\n\n  useEffect(\n    () => {\n      success && navigate(PATH.HOME);\n      if (error !== \"\") {\n        resetForm();\n      }\n    },\n    // eslint-disable-next-line\n    [error, success]\n  );\n\n  const onSubmit = (e: FormEvent) => {\n    e.preventDefault();\n    dispatch(userRegister(form));\n  };\n\n  return (\n    <Fragment>\n      <form\n        className=\"d-flex items-center justify-center direction-column w-100\"\n        onSubmit={onSubmit}\n      >\n        <p className=\"text text_type_main-medium m-5\">Регистрация</p>\n        {error && (\n          <p className=\"text text_type_main-default text_color_error m-3\">\n            {error}\n          </p>\n        )}\n        <Input\n          extraClass=\"mb-5\"\n          placeholder=\"Имя\"\n          name=\"name\"\n          value={form.name}\n          onChange={onChange}\n          autoFocus\n        />\n        <EmailInput name=\"email\" value={form.email} onChange={onChange} />\n        <PasswordInput\n          extraClass=\"m-5\"\n          name=\"password\"\n          value={form.password}\n          onChange={onChange}\n        />\n        <Button\n          htmlType=\"submit\"\n          type=\"primary\"\n          size=\"medium\"\n          disabled={userLoading}\n        >\n          Зарегистрироваться\n        </Button>\n\n        <p className=\"text text_type_main-default text_color_inactive mt-15\">\n          Уже зарегистрированы?&nbsp;\n          <Link to={PATH.LOGIN}>Войти</Link>\n        </p>\n      </form>\n    </Fragment>\n  );\n};\n\nexport default PageRegister;\n"],"names":["useForm","initialFields","_useState","useState","_useState2","_slicedToArray","form","setForm","_useState3","_useState4","modified","setModified","useEffect","JSON","stringify","onChange","e","_e$target","target","name","value","prev","_objectSpread","_defineProperty","resetForm","_useForm","email","password","dispatch","useAppDispatch","_useAppSelector","useAppSelector","store","user","userLoading","success","error","navigate","useNavigate","resetError","PATH","_jsx","Fragment","children","_jsxs","className","onSubmit","preventDefault","userRegister","Input","extraClass","placeholder","autoFocus","EmailInput","PasswordInput","Button","htmlType","type","size","disabled","Link","to"],"sourceRoot":""}