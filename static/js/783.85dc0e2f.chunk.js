"use strict";(self.webpackChunkreact_stellar_burgers=self.webpackChunkreact_stellar_burgers||[]).push([[783],{820:function(e,t,r){r.d(t,{C:function(){return g}});var n=r(7689),a=r(1087),s=r(8491),i=r(3266),c=r(6814),o=r(2791),l="feed-order-images_container__uPktB",d="feed-order-images_item__IVYlW",m="feed-order-images_image__FN1xE",u="feed-order-images_more__BCfBW",_=r(184),x=function(e){var t=e.ingredients,r=(0,o.useMemo)((function(){return t.length-6}),[t]);return(0,_.jsx)("div",{className:l,children:t.slice(0,6).map((function(e,t){return(0,_.jsx)("div",{className:d,style:{zIndex:6-t},children:(0,_.jsxs)("div",{className:m,children:[(0,_.jsx)("img",{src:e.image_mobile,alt:e.name,style:{opacity:5===t&&r>0?"0.3":"1"}},e._id),5===t&&r>0&&(0,_.jsxs)("span",{className:"text text_type_main-default ".concat(u),children:["+",r]})]})},e._id)}))})},f="feed-order-item_order_item__OZ7Ko",p="feed-order-item_header__cRoyr",h="feed-order-item_footer__4DJmd",j="feed-order-item_total_price__a5MDC",g=function(e){var t=e.order,r=e.target,o=e.showStatus,l=void 0===o||o,d=(0,n.TH)();return(0,_.jsxs)(a.rU,{to:"".concat(r,"/").concat(t.number),className:f,state:{prevLocation:d},children:[(0,_.jsxs)("div",{className:p,children:[(0,_.jsxs)("p",{className:"text text_type_digits-default text_color_primary",children:["#",t.number]}),(0,_.jsx)("p",{className:"text text_type_main-default text_color_inactive",children:(0,i.c)(t.createdAt)})]}),(0,_.jsx)("p",{className:"text text_type_main-medium text_color_primary pb-2",children:t.name}),l&&(0,_.jsx)("p",{className:"text text_type_main-default ".concat(t.status===s.iF.done?"text_color_success":"text_color_primary"," pb-6"),children:s.O2[t.status]}),(0,_.jsxs)("div",{className:h,children:[(0,_.jsx)(x,{ingredients:t.ingredients}),(0,_.jsxs)("div",{className:j,children:[(0,_.jsx)("p",{className:"text text_type_digits-default text_color_primary mr-2",children:t.totalPrice}),(0,_.jsx)(c.rm,{type:"primary"})]})]})]})}},3692:function(e,t,r){r.d(t,{c:function(){return c}});var n=r(4942),a=r(1413),s=r(9439),i=r(2791),c=function(e){var t=(0,i.useState)(e),r=(0,s.Z)(t,2),c=r[0],o=r[1],l=(0,i.useState)(!1),d=(0,s.Z)(l,2),m=d[0],u=d[1];(0,i.useEffect)((function(){u(JSON.stringify(c)!==JSON.stringify(e))}),[c,e]);return{form:c,setForm:o,onChange:function(e){var t=e.target,r=t.name,s=t.value;o((function(e){return(0,a.Z)((0,a.Z)({},e),{},(0,n.Z)({},r,s))}))},resetForm:function(){o(e)},modified:m}}},2783:function(e,t,r){r.r(t),r.d(t,{default:function(){return y}});var n=r(2791),a=r(7689),s=r(1087),i=r(723),c=r(8491),o=r(1012),l=r(5402),d=r(820),m=r(1901),u=r(780),_=r(184),x=function(){var e=(0,o.TL)(),t=(0,o.CG)((function(e){return e.user})).accessToken,r=(0,o.CG)((function(e){return e.userOrders}));return(0,n.useEffect)((function(){return r.connected||e((0,l.Zt)(t.split(" ")[1])),function(){e((0,l.Br)())}}),[e]),r.message?(0,_.jsx)(m.Z,{}):(0,_.jsx)(n.Fragment,{children:r&&r.orders.length?r.orders.map((function(e){return(0,_.jsx)(d.C,{order:e,target:c.mD.PROFILE_ORDERS},e._id)})):(0,_.jsx)(u.Z,{})})},f=r(6814),p=r(3692),h=function(){var e=(0,o.CG)((function(e){return e.user})),t=e.user,r=e.userLoading,a=e.error,s=(0,p.c)({name:t.name,email:t.email,password:""}),c=s.form,l=s.onChange,d=s.resetForm,m=s.modified,x=(0,o.TL)();return(0,_.jsx)(n.Fragment,{children:(0,_.jsxs)("form",{onSubmit:function(e){e.preventDefault(),x((0,i.DZ)(c))},children:[(0,_.jsx)(f.II,{placeholder:"\u0418\u043c\u044f",name:"name",value:c.name,onChange:l,icon:"EditIcon",autoFocus:!0}),(0,_.jsx)(f.U5,{extraClass:"mt-5 mb-5",name:"email",value:c.email,onChange:l,isIcon:!0}),(0,_.jsx)(f.WU,{name:"password",value:c.password,onChange:l,icon:"EditIcon"}),a&&(0,_.jsx)("p",{className:"text text_type_main-default text_color_error mt-10",children:a}),m&&(0,_.jsxs)("div",{className:"d-flex mt-10",children:[(0,_.jsx)(f.zx,{htmlType:"submit",type:"primary",size:"small",extraClass:"text_type_main-default mr-5",disabled:!m||r,children:"\u0421\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c"}),(0,_.jsx)(f.zx,{htmlType:"button",type:"secondary",size:"small",onClick:d,extraClass:"text_type_main-default mr-5",disabled:!m||r,children:"\u041e\u0442\u043c\u0435\u043d\u0430"}),r&&(0,_.jsx)(u.Z,{simple:!0})]})]})})},j="page-profile_section_menu__YbzI+",g="page-profile_section_content__iC2SX",v="page-profile_menu__X8uzd",y=function(){var e=(0,o.TL)(),t=(0,a.TH)().pathname.indexOf(c.mD.ORDERS)>0;return(0,_.jsxs)(n.Fragment,{children:[(0,_.jsxs)("section",{className:j,children:[(0,_.jsx)("nav",{children:(0,_.jsxs)("ul",{className:v,children:[(0,_.jsx)("li",{children:(0,_.jsx)(s.OL,{className:"text text_type_main-default text_color_".concat(t?"inactive":"primary"),to:c.mD.PROFILE,children:"\u041f\u0440\u043e\u0444\u0438\u043b\u044c"})}),(0,_.jsx)("li",{children:(0,_.jsx)(s.OL,{className:"text text_type_main-default text_color_".concat(t?"primary":"inactive"),to:c.mD.PROFILE_ORDERS,children:"\u0418\u0441\u0442\u043e\u0440\u0438\u044f \u0437\u0430\u043a\u0430\u0437\u043e\u0432"})}),(0,_.jsx)("li",{children:(0,_.jsx)(s.OL,{className:"text text_type_main-default text_color_inactive",onClick:function(){e((0,i.Kv)())},to:"",children:"\u0412\u044b\u0445\u043e\u0434"})})]})}),(0,_.jsx)("p",{className:"text text_type_main-default text_color_inactive mt-25",children:"\u0412 \u044d\u0442\u043e\u043c \u0440\u0430\u0437\u0434\u0435\u043b\u0435 \u0432\u044b \u043c\u043e\u0436\u0435\u0442\u0435 \u0438\u0437\u043c\u0435\u043d\u0438\u0442\u044c \u0441\u0432\u043e\u0438 \u043f\u0435\u0440\u0441\u043e\u043d\u0430\u043b\u044c\u043d\u044b\u0435 \u0434\u0430\u043d\u043d\u044b\u0435"})]}),(0,_.jsx)("section",{className:g,children:t?(0,_.jsx)(x,{}):(0,_.jsx)(h,{})})]})}},3266:function(e,t,r){r.d(t,{c:function(){return n}});var n=function(e){var t,r=new Date,n=new Date(e);switch(Math.round((+r-+n)/864e5)){case 0:t="\u0421\u0435\u0433\u043e\u0434\u043d\u044f";break;case 1:t="\u0412\u0447\u0435\u0440\u0430";break;case 2:t="\u041f\u043e\u0437\u0430\u0432\u0447\u0435\u0440\u0430";break;case 3:t="3 \u0434\u043d\u044f \u043d\u0430\u0437\u0430\u0434";break;default:t="".concat(("0"+n.getDate()).slice(-2),".").concat(("0"+(+n.getMonth()+1).toString()).slice(-2),".").concat(n.getFullYear())}var a="".concat(("0"+n.getHours()).slice(-2),":").concat(("0"+n.getMinutes()).slice(-2));return"".concat(t,", ").concat(a)}}}]);
//# sourceMappingURL=783.85dc0e2f.chunk.js.map