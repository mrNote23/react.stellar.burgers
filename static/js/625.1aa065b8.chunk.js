"use strict";(self.webpackChunkreact_stellar_burgers=self.webpackChunkreact_stellar_burgers||[]).push([[625],{2126:function(e,t,n){n.d(t,{Z:function(){return u}});var a=n(2791),s=n(4164),r=n(6814),c=n(184),i=function(e){var t=e.onClose,n=e.children;return(0,c.jsx)("div",{className:"modal-overlay",onClick:function(e){"modal-overlay"===e.target.className&&t()},children:n})},l="modal_modal__4TXNT",o="modal_header__ZrtET",d="modal_closeBtn__2fYw0",u=function(e){var t=e.children,n=e.onClose,u=e.title,m=void 0===u?"":u;return(0,a.useEffect)((function(){var e=function(e){"Escape"===e.key&&n()};return document.addEventListener("keydown",e),function(){document.removeEventListener("keydown",e)}}),[n]),(0,s.createPortal)((0,c.jsx)(i,{onClose:function(){return n()},children:(0,c.jsxs)("div",{className:"".concat(l," p-6"),children:[(0,c.jsxs)("div",{className:o,children:["string"===typeof m?(0,c.jsx)("p",{className:"text text_type_main-large pl-5",children:m}):m,(0,c.jsx)("button",{className:d,onClick:function(){return n()},children:(0,c.jsx)(r.Tw,{type:"primary"})})]}),t]})}),document.getElementById("modal-window"))}},6470:function(e,t,n){n.d(t,{d:function(){return r}});var a=n(9439),s=n(2791),r=function(e){var t=(0,s.useState)(e),n=(0,a.Z)(t,2),r=n[0],c=n[1];return{isModalOpen:r,openModal:(0,s.useCallback)((function(){c(!0)}),[]),closeModal:(0,s.useCallback)((function(){c(!1)}),[])}}},3625:function(e,t,n){n.r(t),n.d(t,{default:function(){return w}});var a=n(2791),s=n(9439),r=n(2707),c=n(8491),i=n(3266),l=n(6814),o="order-info-row_row__bbNnA",d="order-info-row_image_container__V3jon",u="order-info-row_image__KN1s7",m=n(184),x=function(e){var t=e.data;return(0,m.jsxs)("li",{className:o,children:[(0,m.jsxs)("div",{className:"d-flex items-center",children:[(0,m.jsx)("div",{className:d,children:(0,m.jsx)("div",{className:u,children:(0,m.jsx)("img",{src:t.image_mobile,alt:t.name})})}),(0,m.jsx)("p",{className:"text text_type_main-default ml-4",children:t.name})]}),(0,m.jsxs)("p",{className:"text text_type_main-medium d-flex items-center",children:[(0,m.jsxs)("span",{className:"mr-3",children:[t.qty," x ",t.price]}),(0,m.jsx)(l.rm,{type:"primary"})]})]})},_=n(6237),f=n(780),p="order-info_container__HbJd2",h="order-info_ingredients__Wobc4",j="order-info_total__yLCyc",v="order-info_total_price__yEtY0",y=function(e){var t=e.orderId,n=(0,a.useState)(null),o=(0,s.Z)(n,2),d=o[0],u=o[1],y=(0,a.useState)(null),N=(0,s.Z)(y,2),g=N[0],b=N[1],w=(0,a.useState)(!1),k=(0,s.Z)(w,2),C=k[0],E=k[1];return(0,a.useEffect)((function(){t?(E(!0),_.Z.loadOrderInfo(+t).then((function(e){E(!1);var t=(0,r.E)(e);t.success&&t.orders.length?u(t.orders[0]):b("\u041e\u0448\u0438\u0431\u043a\u0430 \u0441\u0432\u044f\u0437\u0438 \u0441 \u0431\u0430\u0437\u043e\u0439...")})).catch((function(){E(!1),b("\u041e\u0448\u0438\u0431\u043a\u0430 \u0441\u0432\u044f\u0437\u0438 \u0441 \u0431\u0430\u0437\u043e\u0439...")}))):b("\u041e\u0448\u0438\u0431\u043a\u0430 \u0441\u0432\u044f\u0437\u0438 \u0441 \u0431\u0430\u0437\u043e\u0439...")}),[t]),(0,m.jsxs)(a.Fragment,{children:[C&&(0,m.jsx)(f.Z,{}),g&&(0,m.jsx)("div",{className:p,children:(0,m.jsx)("p",{className:"text text_type_main-medium text_color_inactive m-10 text-center",children:g})}),d&&!g&&(0,m.jsxs)("div",{className:p,children:[(0,m.jsx)("p",{className:"text text_type_main-medium mt-10",children:d.name}),(0,m.jsx)("p",{className:"text text_type_main-default mt-3 ".concat(d.status===c.iF.done&&"text_color_success"),children:c.O2[d.status]}),(0,m.jsx)("p",{className:"text text_type_main-medium mt-15",children:"\u0421\u043e\u0441\u0442\u0430\u0432:"}),(0,m.jsx)("ul",{className:h,children:d.ingredients.map((function(e){return(0,m.jsx)(x,{data:e},e._id)}))}),(0,m.jsxs)("div",{className:j,children:[(0,m.jsx)("span",{className:"text text_type_main-default text_color_inactive",children:(0,i.c)(d.createdAt)}),(0,m.jsxs)("div",{className:v,children:[(0,m.jsx)("p",{className:"text text_type_digits-default text_color_primary mr-2",children:d.totalPrice}),(0,m.jsx)(l.rm,{type:"primary"})]})]})]})]})},N=n(7689),g=n(6470),b=n(2126),w=function(){var e=(0,N.TH)(),t=(0,N.s0)(),n=(0,N.UO)(),s=(0,g.d)(!1),r=s.isModalOpen,c=s.openModal,i=s.closeModal;return(0,a.useEffect)((function(){c()}),[]),e.state?(0,m.jsx)(m.Fragment,{children:r?(0,m.jsx)(b.Z,{onClose:function(){i(),t(-1)},title:(0,m.jsxs)("p",{className:"text text_type_digits-default",children:["#",n.id]}),children:(0,m.jsx)(y,{orderId:n.id?+n.id:null})}):null}):(0,m.jsxs)("div",{className:"d-flex direction-column items-center justify-center",style:{width:"640px",margin:"0 auto"},children:[(0,m.jsxs)("p",{className:"text text_type_digits-default",children:["#",n.id]}),(0,m.jsx)(y,{orderId:n.id?+n.id:null})]})}},3266:function(e,t,n){n.d(t,{c:function(){return a}});var a=function(e){var t,n=new Date,a=new Date(e);switch(Math.round((+n-+a)/864e5)){case 0:t="\u0421\u0435\u0433\u043e\u0434\u043d\u044f";break;case 1:t="\u0412\u0447\u0435\u0440\u0430";break;case 2:t="\u041f\u043e\u0437\u0430\u0432\u0447\u0435\u0440\u0430";break;case 3:t="3 \u0434\u043d\u044f \u043d\u0430\u0437\u0430\u0434";break;default:t="".concat(("0"+a.getDate()).slice(-2),".").concat(("0"+(+a.getMonth()+1).toString()).slice(-2),".").concat(a.getFullYear())}var s="".concat(("0"+a.getHours()).slice(-2),":").concat(("0"+a.getMinutes()).slice(-2));return"".concat(t,", ").concat(s)}}}]);
//# sourceMappingURL=625.1aa065b8.chunk.js.map