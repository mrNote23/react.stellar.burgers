{"version":3,"file":"static/js/522.273da1c2.chunk.js","mappings":"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","sources":["components/modal/modal-overlay/modal-overlay.tsx","webpack://react.stellar.burgers/./src/components/modal/modal.module.css?6368","components/modal/modal.tsx","hooks/use-modal.ts","../node_modules/react-dnd/src/hooks/useIsomorphicLayoutEffect.ts","../node_modules/react-dnd/src/hooks/useMonitorOutput.ts","../node_modules/react-dnd/src/hooks/useCollector.ts","../node_modules/react-dnd/src/hooks/useCollectedProps.ts","../node_modules/react-dnd/src/hooks/useOptionalFactory.ts","../node_modules/react-dnd/src/hooks/useDrag/connectors.ts","../node_modules/@react-dnd/shallowequal/src/index.ts","../node_modules/react-dnd/src/internals/isRef.ts","../node_modules/react-dnd/src/internals/wrapConnectorHooks.ts","../node_modules/react-dnd/src/internals/SourceConnector.ts","../node_modules/react-dnd/src/hooks/useDragDropManager.ts","../node_modules/react-dnd/src/internals/DragSourceMonitorImpl.ts","../node_modules/react-dnd/src/hooks/useDrag/DragSourceImpl.ts","../node_modules/react-dnd/src/hooks/useDrag/useRegisteredDragSource.ts","../node_modules/react-dnd/src/hooks/useDrag/useDragSource.ts","../node_modules/react-dnd/src/hooks/useDrag/useDragType.ts","../node_modules/react-dnd/src/internals/registration.ts","../node_modules/react-dnd/src/hooks/useDrag/useDrag.ts","../node_modules/react-dnd/src/hooks/useDrag/useDragSourceMonitor.ts","../node_modules/react-dnd/src/hooks/useDrag/useDragSourceConnector.ts","webpack://react.stellar.burgers/./src/components/burger-ingredients/burger-ingredients-item/burger-ingredients-item.module.css?1743","components/burger-ingredients/burger-ingredients-item/burger-ingredients-item.tsx","webpack://react.stellar.burgers/./src/components/burger-ingredients/burger-ingredients.module.css?6dee","components/burger-ingredients/burger-ingredients.tsx","../node_modules/react-dnd/src/hooks/useDrop/connectors.ts","../node_modules/react-dnd/src/internals/TargetConnector.ts","../node_modules/react-dnd/src/internals/DropTargetMonitorImpl.ts","../node_modules/react-dnd/src/hooks/useDrop/DropTargetImpl.ts","../node_modules/react-dnd/src/hooks/useDrop/useRegisteredDropTarget.ts","../node_modules/react-dnd/src/hooks/useDrop/useDropTarget.ts","../node_modules/react-dnd/src/hooks/useDrop/useAccept.ts","../node_modules/react-dnd/src/hooks/useDrop/useDrop.ts","../node_modules/react-dnd/src/hooks/useDrop/useDropTargetMonitor.ts","../node_modules/react-dnd/src/hooks/useDrop/useDropTargetConnector.ts","../node_modules/nanoid/index.browser.js","webpack://react.stellar.burgers/./src/components/order-details/order-details.module.css?b560","components/order-details/order-details.tsx","webpack://react.stellar.burgers/./src/components/burger-constructor/burger-constructor.module.css?f867","components/burger-constructor/burger-constructor-item/burger-constructor-item.tsx","components/burger-constructor/burger-constructor.tsx","pages/page-home/page-home.tsx","../node_modules/fast-deep-equal/index.js"],"sourcesContent":["import { FC, ReactNode, MouseEvent } from \"react\"\n\ntype TModalOverlayProps = {\n  onClose: () => void\n  children?: ReactNode\n}\nconst ModalOverlay: FC<TModalOverlayProps> = ({ onClose, children }) => {\n  const closeModal = (e: MouseEvent<HTMLElement>) => {\n    if ((e.target as HTMLElement).className === \"modal-overlay\") {\n      onClose()\n    }\n  }\n\n  return (\n    <div className='modal-overlay' onClick={closeModal}>\n      {children}\n    </div>\n  )\n}\n\nexport default ModalOverlay\n","// extracted by mini-css-extract-plugin\nexport default {\"modal\":\"modal_modal__4TXNT\",\"header\":\"modal_header__ZrtET\",\"closeBtn\":\"modal_closeBtn__2fYw0\"};","import { FC, ReactNode, useEffect } from \"react\";\nimport { createPortal } from \"react-dom\";\nimport { CloseIcon } from \"@ya.praktikum/react-developer-burger-ui-components\";\nimport ModalOverlay from \"@components/modal/modal-overlay/modal-overlay\";\n\nimport styles from \"./modal.module.css\";\n\ntype TModalProps = {\n  children?: ReactNode;\n  onClose: () => void;\n  title?: string | ReactNode;\n};\n\nconst Modal: FC<TModalProps> = ({ children, onClose, title = \"\" }) => {\n  useEffect(() => {\n    const onKeyDown = (e: KeyboardEvent) => {\n      e.key === \"Escape\" && onClose();\n    };\n\n    document.addEventListener(\"keydown\", onKeyDown);\n\n    return () => {\n      document.removeEventListener(\"keydown\", onKeyDown);\n    };\n  }, [onClose]);\n\n  return createPortal(\n    <ModalOverlay onClose={() => onClose()}>\n      <div className={`${styles.modal} p-6`}>\n        <div className={styles.header}>\n          {typeof title === \"string\" ? (\n            <p className=\"text text_type_main-large pl-5\">{title}</p>\n          ) : (\n            title\n          )}\n          <button className={styles.closeBtn} onClick={() => onClose()}>\n            <CloseIcon type=\"primary\" />\n          </button>\n        </div>\n        {children}\n      </div>\n    </ModalOverlay>,\n    document.getElementById(\"modal-window\") as HTMLElement\n  );\n};\n\nexport default Modal;\n","import { useCallback, useState } from \"react\";\n\nexport const useModal = (status: boolean) => {\n  const [isModalOpen, setIsModalOpen] = useState<boolean>(status);\n  const openModal = useCallback(() => {\n    setIsModalOpen(true);\n  }, []);\n\n  const closeModal = useCallback(() => {\n    setIsModalOpen(false);\n  }, []);\n\n  return { isModalOpen, openModal, closeModal };\n};\n","import { useEffect, useLayoutEffect } from 'react'\n\n// suppress the useLayoutEffect warning on server side.\nexport const useIsomorphicLayoutEffect =\n\ttypeof window !== 'undefined' ? useLayoutEffect : useEffect\n","import type { HandlerManager, MonitorEventEmitter } from '../types/index.js'\nimport { useCollector } from './useCollector.js'\nimport { useIsomorphicLayoutEffect } from './useIsomorphicLayoutEffect.js'\n\nexport function useMonitorOutput<Monitor extends HandlerManager, Collected>(\n\tmonitor: Monitor & MonitorEventEmitter,\n\tcollect: (monitor: Monitor) => Collected,\n\tonCollect?: () => void,\n): Collected {\n\tconst [collected, updateCollected] = useCollector(monitor, collect, onCollect)\n\n\tuseIsomorphicLayoutEffect(\n\t\tfunction subscribeToMonitorStateChange() {\n\t\t\tconst handlerId = monitor.getHandlerId()\n\t\t\tif (handlerId == null) {\n\t\t\t\treturn\n\t\t\t}\n\t\t\treturn monitor.subscribeToStateChange(updateCollected, {\n\t\t\t\thandlerIds: [handlerId],\n\t\t\t})\n\t\t},\n\t\t[monitor, updateCollected],\n\t)\n\n\treturn collected\n}\n","import equal from 'fast-deep-equal'\nimport { useCallback, useState } from 'react'\n\nimport { useIsomorphicLayoutEffect } from './useIsomorphicLayoutEffect.js'\n\n/**\n *\n * @param monitor The monitor to collect state from\n * @param collect The collecting function\n * @param onUpdate A method to invoke when updates occur\n */\nexport function useCollector<T, S>(\n\tmonitor: T,\n\tcollect: (monitor: T) => S,\n\tonUpdate?: () => void,\n): [S, () => void] {\n\tconst [collected, setCollected] = useState(() => collect(monitor))\n\n\tconst updateCollected = useCallback(() => {\n\t\tconst nextValue = collect(monitor)\n\t\t// This needs to be a deep-equality check because some monitor-collected values\n\t\t// include XYCoord objects that may be equivalent, but do not have instance equality.\n\t\tif (!equal(collected, nextValue)) {\n\t\t\tsetCollected(nextValue)\n\t\t\tif (onUpdate) {\n\t\t\t\tonUpdate()\n\t\t\t}\n\t\t}\n\t}, [collected, monitor, onUpdate])\n\n\t// update the collected properties after react renders.\n\t// Note that the \"Dustbin Stress Test\" fails if this is not\n\t// done when the component updates\n\tuseIsomorphicLayoutEffect(updateCollected)\n\n\treturn [collected, updateCollected]\n}\n","import type { Connector } from '../internals/index.js'\nimport type { HandlerManager, MonitorEventEmitter } from '../types/index.js'\nimport { useMonitorOutput } from './useMonitorOutput.js'\n\nexport function useCollectedProps<Collected, Monitor extends HandlerManager>(\n\tcollector: ((monitor: Monitor) => Collected) | undefined,\n\tmonitor: Monitor & MonitorEventEmitter,\n\tconnector: Connector,\n) {\n\treturn useMonitorOutput(monitor, collector || (() => ({} as Collected)), () =>\n\t\tconnector.reconnect(),\n\t)\n}\n","import { useMemo } from 'react'\n\nimport type { FactoryOrInstance } from './types.js'\n\nexport function useOptionalFactory<T>(\n\targ: FactoryOrInstance<T>,\n\tdeps?: unknown[],\n): T {\n\tconst memoDeps = [...(deps || [])]\n\tif (deps == null && typeof arg !== 'function') {\n\t\tmemoDeps.push(arg)\n\t}\n\treturn useMemo<T>(() => {\n\t\treturn typeof arg === 'function' ? (arg as () => T)() : (arg as T)\n\t}, memoDeps)\n}\n","import { useMemo } from 'react'\n\nimport type { SourceConnector } from '../../internals/index.js'\n\nexport function useConnectDragSource(connector: SourceConnector) {\n\treturn useMemo(() => connector.hooks.dragSource(), [connector])\n}\n\nexport function useConnectDragPreview(connector: SourceConnector) {\n\treturn useMemo(() => connector.hooks.dragPreview(), [connector])\n}\n","export function shallowEqual<T>(\n\tobjA: T,\n\tobjB: T,\n\tcompare?: (a: T, b: T, key?: string) => boolean | void,\n\tcompareContext?: any,\n) {\n\tlet compareResult = compare\n\t\t? compare.call(compareContext, objA, objB)\n\t\t: void 0\n\tif (compareResult !== void 0) {\n\t\treturn !!compareResult\n\t}\n\n\tif (objA === objB) {\n\t\treturn true\n\t}\n\n\tif (typeof objA !== 'object' || !objA || typeof objB !== 'object' || !objB) {\n\t\treturn false\n\t}\n\n\tconst keysA = Object.keys(objA)\n\tconst keysB = Object.keys(objB)\n\n\tif (keysA.length !== keysB.length) {\n\t\treturn false\n\t}\n\n\tconst bHasOwnProperty = Object.prototype.hasOwnProperty.bind(objB)\n\n\t// Test for A's keys different from B.\n\tfor (let idx = 0; idx < keysA.length; idx++) {\n\t\tconst key = keysA[idx] as string\n\n\t\tif (!bHasOwnProperty(key)) {\n\t\t\treturn false\n\t\t}\n\n\t\tconst valueA = (objA as any)[key]\n\t\tconst valueB = (objB as any)[key]\n\n\t\tcompareResult = compare\n\t\t\t? compare.call(compareContext, valueA, valueB, key)\n\t\t\t: void 0\n\n\t\tif (\n\t\t\tcompareResult === false ||\n\t\t\t(compareResult === void 0 && valueA !== valueB)\n\t\t) {\n\t\t\treturn false\n\t\t}\n\t}\n\n\treturn true\n}\n","export interface Ref<T> {\n\tcurrent: T\n}\n\nexport function isRef(obj: unknown): boolean {\n\treturn (\n\t\t// eslint-disable-next-line no-prototype-builtins\n\t\tobj !== null &&\n\t\ttypeof obj === 'object' &&\n\t\tObject.prototype.hasOwnProperty.call(obj, 'current')\n\t)\n}\n","import { invariant } from '@react-dnd/invariant'\nimport type { ReactElement } from 'react'\nimport { cloneElement, isValidElement } from 'react'\n\nfunction throwIfCompositeComponentElement(element: ReactElement<any>) {\n\t// Custom components can no longer be wrapped directly in React DnD 2.0\n\t// so that we don't need to depend on findDOMNode() from react-dom.\n\tif (typeof element.type === 'string') {\n\t\treturn\n\t}\n\n\tconst displayName =\n\t\t(element.type as any).displayName || element.type.name || 'the component'\n\n\tthrow new Error(\n\t\t'Only native element nodes can now be passed to React DnD connectors.' +\n\t\t\t`You can either wrap ${displayName} into a <div>, or turn it into a ` +\n\t\t\t'drag source or a drop target itself.',\n\t)\n}\n\nfunction wrapHookToRecognizeElement(hook: (node: any, options: any) => void) {\n\treturn (elementOrNode = null, options = null) => {\n\t\t// When passed a node, call the hook straight away.\n\t\tif (!isValidElement(elementOrNode)) {\n\t\t\tconst node = elementOrNode\n\t\t\thook(node, options)\n\t\t\t// return the node so it can be chained (e.g. when within callback refs\n\t\t\t// <div ref={node => connectDragSource(connectDropTarget(node))}/>\n\t\t\treturn node\n\t\t}\n\n\t\t// If passed a ReactElement, clone it and attach this function as a ref.\n\t\t// This helps us achieve a neat API where user doesn't even know that refs\n\t\t// are being used under the hood.\n\t\tconst element: ReactElement | null = elementOrNode\n\t\tthrowIfCompositeComponentElement(element as any)\n\n\t\t// When no options are passed, use the hook directly\n\t\tconst ref = options ? (node: Element) => hook(node, options) : hook\n\t\treturn cloneWithRef(element, ref)\n\t}\n}\n\nexport function wrapConnectorHooks(hooks: any) {\n\tconst wrappedHooks: any = {}\n\n\tObject.keys(hooks).forEach((key) => {\n\t\tconst hook = hooks[key]\n\n\t\t// ref objects should be passed straight through without wrapping\n\t\tif (key.endsWith('Ref')) {\n\t\t\twrappedHooks[key] = hooks[key]\n\t\t} else {\n\t\t\tconst wrappedHook = wrapHookToRecognizeElement(hook)\n\t\t\twrappedHooks[key] = () => wrappedHook\n\t\t}\n\t})\n\n\treturn wrappedHooks\n}\n\nfunction setRef(ref: any, node: any) {\n\tif (typeof ref === 'function') {\n\t\tref(node)\n\t} else {\n\t\tref.current = node\n\t}\n}\n\nfunction cloneWithRef(element: any, newRef: any): ReactElement<any> {\n\tconst previousRef = element.ref\n\tinvariant(\n\t\ttypeof previousRef !== 'string',\n\t\t'Cannot connect React DnD to an element with an existing string ref. ' +\n\t\t\t'Please convert it to use a callback ref instead, or wrap it into a <span> or <div>. ' +\n\t\t\t'Read more: https://reactjs.org/docs/refs-and-the-dom.html#callback-refs',\n\t)\n\n\tif (!previousRef) {\n\t\t// When there is no ref on the element, use the new ref directly\n\t\treturn cloneElement(element, {\n\t\t\tref: newRef,\n\t\t})\n\t} else {\n\t\treturn cloneElement(element, {\n\t\t\tref: (node: any) => {\n\t\t\t\tsetRef(previousRef, node)\n\t\t\t\tsetRef(newRef, node)\n\t\t\t},\n\t\t})\n\t}\n}\n","import { shallowEqual } from '@react-dnd/shallowequal'\nimport type { Backend, Identifier, Unsubscribe } from 'dnd-core'\nimport type { ReactElement, Ref, RefObject } from 'react'\n\nimport type { DragPreviewOptions, DragSourceOptions } from '../types/index.js'\nimport { isRef } from './isRef.js'\nimport { wrapConnectorHooks } from './wrapConnectorHooks.js'\n\nexport interface Connector {\n\thooks: any\n\tconnectTarget: any\n\treceiveHandlerId(handlerId: Identifier | null): void\n\treconnect(): void\n}\n\nexport class SourceConnector implements Connector {\n\tpublic hooks = wrapConnectorHooks({\n\t\tdragSource: (\n\t\t\tnode: Element | ReactElement | Ref<any>,\n\t\t\toptions?: DragSourceOptions,\n\t\t) => {\n\t\t\tthis.clearDragSource()\n\t\t\tthis.dragSourceOptions = options || null\n\t\t\tif (isRef(node)) {\n\t\t\t\tthis.dragSourceRef = node as RefObject<any>\n\t\t\t} else {\n\t\t\t\tthis.dragSourceNode = node\n\t\t\t}\n\t\t\tthis.reconnectDragSource()\n\t\t},\n\t\tdragPreview: (node: any, options?: DragPreviewOptions) => {\n\t\t\tthis.clearDragPreview()\n\t\t\tthis.dragPreviewOptions = options || null\n\t\t\tif (isRef(node)) {\n\t\t\t\tthis.dragPreviewRef = node\n\t\t\t} else {\n\t\t\t\tthis.dragPreviewNode = node\n\t\t\t}\n\t\t\tthis.reconnectDragPreview()\n\t\t},\n\t})\n\tprivate handlerId: Identifier | null = null\n\n\t// The drop target may either be attached via ref or connect function\n\tprivate dragSourceRef: RefObject<any> | null = null\n\tprivate dragSourceNode: any\n\tprivate dragSourceOptionsInternal: DragSourceOptions | null = null\n\tprivate dragSourceUnsubscribe: Unsubscribe | undefined\n\n\t// The drag preview may either be attached via ref or connect function\n\tprivate dragPreviewRef: RefObject<any> | null = null\n\tprivate dragPreviewNode: any\n\tprivate dragPreviewOptionsInternal: DragPreviewOptions | null = null\n\tprivate dragPreviewUnsubscribe: Unsubscribe | undefined\n\n\tprivate lastConnectedHandlerId: Identifier | null = null\n\tprivate lastConnectedDragSource: any = null\n\tprivate lastConnectedDragSourceOptions: any = null\n\tprivate lastConnectedDragPreview: any = null\n\tprivate lastConnectedDragPreviewOptions: any = null\n\n\tprivate readonly backend: Backend\n\n\tpublic constructor(backend: Backend) {\n\t\tthis.backend = backend\n\t}\n\n\tpublic receiveHandlerId(newHandlerId: Identifier | null): void {\n\t\tif (this.handlerId === newHandlerId) {\n\t\t\treturn\n\t\t}\n\n\t\tthis.handlerId = newHandlerId\n\t\tthis.reconnect()\n\t}\n\n\tpublic get connectTarget(): any {\n\t\treturn this.dragSource\n\t}\n\n\tpublic get dragSourceOptions(): DragSourceOptions | null {\n\t\treturn this.dragSourceOptionsInternal\n\t}\n\tpublic set dragSourceOptions(options: DragSourceOptions | null) {\n\t\tthis.dragSourceOptionsInternal = options\n\t}\n\n\tpublic get dragPreviewOptions(): DragPreviewOptions | null {\n\t\treturn this.dragPreviewOptionsInternal\n\t}\n\n\tpublic set dragPreviewOptions(options: DragPreviewOptions | null) {\n\t\tthis.dragPreviewOptionsInternal = options\n\t}\n\n\tpublic reconnect(): void {\n\t\tconst didChange = this.reconnectDragSource()\n\t\tthis.reconnectDragPreview(didChange)\n\t}\n\n\tprivate reconnectDragSource(): boolean {\n\t\tconst dragSource = this.dragSource\n\t\t// if nothing has changed then don't resubscribe\n\t\tconst didChange =\n\t\t\tthis.didHandlerIdChange() ||\n\t\t\tthis.didConnectedDragSourceChange() ||\n\t\t\tthis.didDragSourceOptionsChange()\n\n\t\tif (didChange) {\n\t\t\tthis.disconnectDragSource()\n\t\t}\n\n\t\tif (!this.handlerId) {\n\t\t\treturn didChange\n\t\t}\n\t\tif (!dragSource) {\n\t\t\tthis.lastConnectedDragSource = dragSource\n\t\t\treturn didChange\n\t\t}\n\n\t\tif (didChange) {\n\t\t\tthis.lastConnectedHandlerId = this.handlerId\n\t\t\tthis.lastConnectedDragSource = dragSource\n\t\t\tthis.lastConnectedDragSourceOptions = this.dragSourceOptions\n\t\t\tthis.dragSourceUnsubscribe = this.backend.connectDragSource(\n\t\t\t\tthis.handlerId,\n\t\t\t\tdragSource,\n\t\t\t\tthis.dragSourceOptions,\n\t\t\t)\n\t\t}\n\t\treturn didChange\n\t}\n\n\tprivate reconnectDragPreview(forceDidChange = false): void {\n\t\tconst dragPreview = this.dragPreview\n\t\t// if nothing has changed then don't resubscribe\n\t\tconst didChange =\n\t\t\tforceDidChange ||\n\t\t\tthis.didHandlerIdChange() ||\n\t\t\tthis.didConnectedDragPreviewChange() ||\n\t\t\tthis.didDragPreviewOptionsChange()\n\n\t\tif (didChange) {\n\t\t\tthis.disconnectDragPreview()\n\t\t}\n\n\t\tif (!this.handlerId) {\n\t\t\treturn\n\t\t}\n\t\tif (!dragPreview) {\n\t\t\tthis.lastConnectedDragPreview = dragPreview\n\t\t\treturn\n\t\t}\n\n\t\tif (didChange) {\n\t\t\tthis.lastConnectedHandlerId = this.handlerId\n\t\t\tthis.lastConnectedDragPreview = dragPreview\n\t\t\tthis.lastConnectedDragPreviewOptions = this.dragPreviewOptions\n\t\t\tthis.dragPreviewUnsubscribe = this.backend.connectDragPreview(\n\t\t\t\tthis.handlerId,\n\t\t\t\tdragPreview,\n\t\t\t\tthis.dragPreviewOptions,\n\t\t\t)\n\t\t}\n\t}\n\n\tprivate didHandlerIdChange(): boolean {\n\t\treturn this.lastConnectedHandlerId !== this.handlerId\n\t}\n\n\tprivate didConnectedDragSourceChange(): boolean {\n\t\treturn this.lastConnectedDragSource !== this.dragSource\n\t}\n\n\tprivate didConnectedDragPreviewChange(): boolean {\n\t\treturn this.lastConnectedDragPreview !== this.dragPreview\n\t}\n\n\tprivate didDragSourceOptionsChange(): boolean {\n\t\treturn !shallowEqual(\n\t\t\tthis.lastConnectedDragSourceOptions,\n\t\t\tthis.dragSourceOptions,\n\t\t)\n\t}\n\n\tprivate didDragPreviewOptionsChange(): boolean {\n\t\treturn !shallowEqual(\n\t\t\tthis.lastConnectedDragPreviewOptions,\n\t\t\tthis.dragPreviewOptions,\n\t\t)\n\t}\n\n\tpublic disconnectDragSource() {\n\t\tif (this.dragSourceUnsubscribe) {\n\t\t\tthis.dragSourceUnsubscribe()\n\t\t\tthis.dragSourceUnsubscribe = undefined\n\t\t}\n\t}\n\n\tpublic disconnectDragPreview() {\n\t\tif (this.dragPreviewUnsubscribe) {\n\t\t\tthis.dragPreviewUnsubscribe()\n\t\t\tthis.dragPreviewUnsubscribe = undefined\n\t\t\tthis.dragPreviewNode = null\n\t\t\tthis.dragPreviewRef = null\n\t\t}\n\t}\n\n\tprivate get dragSource() {\n\t\treturn (\n\t\t\tthis.dragSourceNode || (this.dragSourceRef && this.dragSourceRef.current)\n\t\t)\n\t}\n\n\tprivate get dragPreview() {\n\t\treturn (\n\t\t\tthis.dragPreviewNode ||\n\t\t\t(this.dragPreviewRef && this.dragPreviewRef.current)\n\t\t)\n\t}\n\n\tprivate clearDragSource() {\n\t\tthis.dragSourceNode = null\n\t\tthis.dragSourceRef = null\n\t}\n\n\tprivate clearDragPreview() {\n\t\tthis.dragPreviewNode = null\n\t\tthis.dragPreviewRef = null\n\t}\n}\n","import { invariant } from '@react-dnd/invariant'\nimport type { DragDropManager } from 'dnd-core'\nimport { useContext } from 'react'\n\nimport { DndContext } from '../core/index.js'\n\n/**\n * A hook to retrieve the DragDropManager from Context\n */\nexport function useDragDropManager(): DragDropManager {\n\tconst { dragDropManager } = useContext(DndContext)\n\tinvariant(dragDropManager != null, 'Expected drag drop context')\n\treturn dragDropManager as DragDropManager\n}\n","import { invariant } from '@react-dnd/invariant'\nimport type {\n\tDragDropManager,\n\tDragDropMonitor,\n\tIdentifier,\n\tListener,\n\tUnsubscribe,\n\tXYCoord,\n} from 'dnd-core'\n\nimport type { DragSourceMonitor } from '../types/index.js'\n\nlet isCallingCanDrag = false\nlet isCallingIsDragging = false\n\nexport class DragSourceMonitorImpl implements DragSourceMonitor {\n\tprivate internalMonitor: DragDropMonitor\n\tprivate sourceId: Identifier | null = null\n\n\tpublic constructor(manager: DragDropManager) {\n\t\tthis.internalMonitor = manager.getMonitor()\n\t}\n\n\tpublic receiveHandlerId(sourceId: Identifier | null): void {\n\t\tthis.sourceId = sourceId\n\t}\n\n\tpublic getHandlerId(): Identifier | null {\n\t\treturn this.sourceId\n\t}\n\n\tpublic canDrag(): boolean {\n\t\tinvariant(\n\t\t\t!isCallingCanDrag,\n\t\t\t'You may not call monitor.canDrag() inside your canDrag() implementation. ' +\n\t\t\t\t'Read more: http://react-dnd.github.io/react-dnd/docs/api/drag-source-monitor',\n\t\t)\n\n\t\ttry {\n\t\t\tisCallingCanDrag = true\n\t\t\treturn this.internalMonitor.canDragSource(this.sourceId as Identifier)\n\t\t} finally {\n\t\t\tisCallingCanDrag = false\n\t\t}\n\t}\n\n\tpublic isDragging(): boolean {\n\t\tif (!this.sourceId) {\n\t\t\treturn false\n\t\t}\n\t\tinvariant(\n\t\t\t!isCallingIsDragging,\n\t\t\t'You may not call monitor.isDragging() inside your isDragging() implementation. ' +\n\t\t\t\t'Read more: http://react-dnd.github.io/react-dnd/docs/api/drag-source-monitor',\n\t\t)\n\n\t\ttry {\n\t\t\tisCallingIsDragging = true\n\t\t\treturn this.internalMonitor.isDraggingSource(this.sourceId)\n\t\t} finally {\n\t\t\tisCallingIsDragging = false\n\t\t}\n\t}\n\n\tpublic subscribeToStateChange(\n\t\tlistener: Listener,\n\t\toptions?: { handlerIds?: Identifier[] },\n\t): Unsubscribe {\n\t\treturn this.internalMonitor.subscribeToStateChange(listener, options)\n\t}\n\n\tpublic isDraggingSource(sourceId: Identifier): boolean {\n\t\treturn this.internalMonitor.isDraggingSource(sourceId)\n\t}\n\n\tpublic isOverTarget(\n\t\ttargetId: Identifier,\n\t\toptions?: { shallow: boolean },\n\t): boolean {\n\t\treturn this.internalMonitor.isOverTarget(targetId, options)\n\t}\n\n\tpublic getTargetIds(): Identifier[] {\n\t\treturn this.internalMonitor.getTargetIds()\n\t}\n\n\tpublic isSourcePublic(): boolean | null {\n\t\treturn this.internalMonitor.isSourcePublic()\n\t}\n\n\tpublic getSourceId(): Identifier | null {\n\t\treturn this.internalMonitor.getSourceId()\n\t}\n\n\tpublic subscribeToOffsetChange(listener: Listener): Unsubscribe {\n\t\treturn this.internalMonitor.subscribeToOffsetChange(listener)\n\t}\n\n\tpublic canDragSource(sourceId: Identifier): boolean {\n\t\treturn this.internalMonitor.canDragSource(sourceId)\n\t}\n\n\tpublic canDropOnTarget(targetId: Identifier): boolean {\n\t\treturn this.internalMonitor.canDropOnTarget(targetId)\n\t}\n\n\tpublic getItemType(): Identifier | null {\n\t\treturn this.internalMonitor.getItemType()\n\t}\n\n\tpublic getItem(): any {\n\t\treturn this.internalMonitor.getItem()\n\t}\n\n\tpublic getDropResult(): any {\n\t\treturn this.internalMonitor.getDropResult()\n\t}\n\n\tpublic didDrop(): boolean {\n\t\treturn this.internalMonitor.didDrop()\n\t}\n\n\tpublic getInitialClientOffset(): XYCoord | null {\n\t\treturn this.internalMonitor.getInitialClientOffset()\n\t}\n\n\tpublic getInitialSourceClientOffset(): XYCoord | null {\n\t\treturn this.internalMonitor.getInitialSourceClientOffset()\n\t}\n\n\tpublic getSourceClientOffset(): XYCoord | null {\n\t\treturn this.internalMonitor.getSourceClientOffset()\n\t}\n\n\tpublic getClientOffset(): XYCoord | null {\n\t\treturn this.internalMonitor.getClientOffset()\n\t}\n\n\tpublic getDifferenceFromInitialOffset(): XYCoord | null {\n\t\treturn this.internalMonitor.getDifferenceFromInitialOffset()\n\t}\n}\n","import type { DragDropMonitor, DragSource, Identifier } from 'dnd-core'\n\nimport type { Connector } from '../../internals/index.js'\nimport type { DragSourceMonitor } from '../../types/index.js'\nimport type { DragObjectFactory, DragSourceHookSpec } from '../types.js'\n\nexport class DragSourceImpl<O, R, P> implements DragSource {\n\tpublic constructor(\n\t\tpublic spec: DragSourceHookSpec<O, R, P>,\n\t\tprivate monitor: DragSourceMonitor<O, R>,\n\t\tprivate connector: Connector,\n\t) {}\n\n\tpublic beginDrag() {\n\t\tconst spec = this.spec\n\t\tconst monitor = this.monitor\n\n\t\tlet result: O | null = null\n\t\tif (typeof spec.item === 'object') {\n\t\t\tresult = spec.item as O\n\t\t} else if (typeof spec.item === 'function') {\n\t\t\tresult = (spec.item as DragObjectFactory<O>)(monitor)\n\t\t} else {\n\t\t\tresult = {} as O\n\t\t}\n\t\treturn result ?? null\n\t}\n\n\tpublic canDrag() {\n\t\tconst spec = this.spec\n\t\tconst monitor = this.monitor\n\t\tif (typeof spec.canDrag === 'boolean') {\n\t\t\treturn spec.canDrag\n\t\t} else if (typeof spec.canDrag === 'function') {\n\t\t\treturn spec.canDrag(monitor)\n\t\t} else {\n\t\t\treturn true\n\t\t}\n\t}\n\n\tpublic isDragging(globalMonitor: DragDropMonitor, target: Identifier) {\n\t\tconst spec = this.spec\n\t\tconst monitor = this.monitor\n\t\tconst { isDragging } = spec\n\t\treturn isDragging\n\t\t\t? isDragging(monitor)\n\t\t\t: target === globalMonitor.getSourceId()\n\t}\n\n\tpublic endDrag() {\n\t\tconst spec = this.spec\n\t\tconst monitor = this.monitor\n\t\tconst connector = this.connector\n\t\tconst { end } = spec\n\t\tif (end) {\n\t\t\tend(monitor.getItem(), monitor)\n\t\t}\n\t\tconnector.reconnect()\n\t}\n}\n","import type { SourceConnector } from '../../internals/index.js'\nimport { registerSource } from '../../internals/index.js'\nimport type { DragSourceMonitor } from '../../types/index.js'\nimport type { DragSourceHookSpec } from '../types.js'\nimport { useDragDropManager } from '../useDragDropManager.js'\nimport { useIsomorphicLayoutEffect } from '../useIsomorphicLayoutEffect.js'\nimport { useDragSource } from './useDragSource.js'\nimport { useDragType } from './useDragType.js'\n\nexport function useRegisteredDragSource<O, R, P>(\n\tspec: DragSourceHookSpec<O, R, P>,\n\tmonitor: DragSourceMonitor<O, R>,\n\tconnector: SourceConnector,\n): void {\n\tconst manager = useDragDropManager()\n\tconst handler = useDragSource(spec, monitor, connector)\n\tconst itemType = useDragType(spec)\n\n\tuseIsomorphicLayoutEffect(\n\t\tfunction registerDragSource() {\n\t\t\tif (itemType != null) {\n\t\t\t\tconst [handlerId, unregister] = registerSource(\n\t\t\t\t\titemType,\n\t\t\t\t\thandler,\n\t\t\t\t\tmanager,\n\t\t\t\t)\n\t\t\t\tmonitor.receiveHandlerId(handlerId)\n\t\t\t\tconnector.receiveHandlerId(handlerId)\n\t\t\t\treturn unregister\n\t\t\t}\n\t\t\treturn\n\t\t},\n\t\t[manager, monitor, connector, handler, itemType],\n\t)\n}\n","import { useEffect, useMemo } from 'react'\n\nimport type { Connector } from '../../internals/index.js'\nimport type { DragSourceMonitor } from '../../types/index.js'\nimport type { DragSourceHookSpec } from '../types.js'\nimport { DragSourceImpl } from './DragSourceImpl.js'\n\nexport function useDragSource<O, R, P>(\n\tspec: DragSourceHookSpec<O, R, P>,\n\tmonitor: DragSourceMonitor<O, R>,\n\tconnector: Connector,\n) {\n\tconst handler = useMemo(\n\t\t() => new DragSourceImpl(spec, monitor, connector),\n\t\t[monitor, connector],\n\t)\n\tuseEffect(() => {\n\t\thandler.spec = spec\n\t}, [spec])\n\treturn handler\n}\n","import { invariant } from '@react-dnd/invariant'\nimport type { Identifier } from 'dnd-core'\nimport { useMemo } from 'react'\n\nimport type { DragSourceHookSpec } from '../types.js'\n\nexport function useDragType(\n\tspec: DragSourceHookSpec<any, any, any>,\n): Identifier {\n\treturn useMemo(() => {\n\t\tconst result: Identifier = spec.type\n\t\tinvariant(result != null, 'spec.type must be defined')\n\t\treturn result\n\t}, [spec])\n}\n","import type {\n\tDragDropManager,\n\tDragSource,\n\tDropTarget,\n\tIdentifier,\n\tSourceType,\n\tTargetType,\n\tUnsubscribe,\n} from 'dnd-core'\n\nexport function registerTarget(\n\ttype: TargetType,\n\ttarget: DropTarget,\n\tmanager: DragDropManager,\n): [Identifier, Unsubscribe] {\n\tconst registry = manager.getRegistry()\n\tconst targetId = registry.addTarget(type, target)\n\n\treturn [targetId, () => registry.removeTarget(targetId)]\n}\n\nexport function registerSource(\n\ttype: SourceType,\n\tsource: DragSource,\n\tmanager: DragDropManager,\n): [Identifier, Unsubscribe] {\n\tconst registry = manager.getRegistry()\n\tconst sourceId = registry.addSource(type, source)\n\n\treturn [sourceId, () => registry.removeSource(sourceId)]\n}\n","import { invariant } from '@react-dnd/invariant'\n\nimport type {\n\tConnectDragPreview,\n\tConnectDragSource,\n} from '../../types/index.js'\nimport type { DragSourceHookSpec, FactoryOrInstance } from '../types.js'\nimport { useCollectedProps } from '../useCollectedProps.js'\nimport { useOptionalFactory } from '../useOptionalFactory.js'\nimport { useConnectDragPreview, useConnectDragSource } from './connectors.js'\nimport { useDragSourceConnector } from './useDragSourceConnector.js'\nimport { useDragSourceMonitor } from './useDragSourceMonitor.js'\nimport { useRegisteredDragSource } from './useRegisteredDragSource.js'\n\n/**\n * useDragSource hook\n * @param sourceSpec The drag source specification (object or function, function preferred)\n * @param deps The memoization deps array to use when evaluating spec changes\n */\nexport function useDrag<\n\tDragObject = unknown,\n\tDropResult = unknown,\n\tCollectedProps = unknown,\n>(\n\tspecArg: FactoryOrInstance<\n\t\tDragSourceHookSpec<DragObject, DropResult, CollectedProps>\n\t>,\n\tdeps?: unknown[],\n): [CollectedProps, ConnectDragSource, ConnectDragPreview] {\n\tconst spec = useOptionalFactory(specArg, deps)\n\tinvariant(\n\t\t!(spec as any).begin,\n\t\t`useDrag::spec.begin was deprecated in v14. Replace spec.begin() with spec.item(). (see more here - https://react-dnd.github.io/react-dnd/docs/api/use-drag)`,\n\t)\n\n\tconst monitor = useDragSourceMonitor<DragObject, DropResult>()\n\tconst connector = useDragSourceConnector(spec.options, spec.previewOptions)\n\tuseRegisteredDragSource(spec, monitor, connector)\n\n\treturn [\n\t\tuseCollectedProps(spec.collect, monitor, connector),\n\t\tuseConnectDragSource(connector),\n\t\tuseConnectDragPreview(connector),\n\t]\n}\n","import { useMemo } from 'react'\n\nimport { DragSourceMonitorImpl } from '../../internals/index.js'\nimport type { DragSourceMonitor } from '../../types/index.js'\nimport { useDragDropManager } from '../useDragDropManager.js'\n\nexport function useDragSourceMonitor<O, R>(): DragSourceMonitor<O, R> {\n\tconst manager = useDragDropManager()\n\treturn useMemo<DragSourceMonitor<O, R>>(\n\t\t() => new DragSourceMonitorImpl(manager),\n\t\t[manager],\n\t)\n}\n","import { useMemo } from 'react'\n\nimport { SourceConnector } from '../../internals/index.js'\nimport type {\n\tDragPreviewOptions,\n\tDragSourceOptions,\n} from '../../types/index.js'\nimport { useDragDropManager } from '../useDragDropManager.js'\nimport { useIsomorphicLayoutEffect } from '../useIsomorphicLayoutEffect.js'\n\nexport function useDragSourceConnector(\n\tdragSourceOptions: DragSourceOptions | undefined,\n\tdragPreviewOptions: DragPreviewOptions | undefined,\n): SourceConnector {\n\tconst manager = useDragDropManager()\n\tconst connector = useMemo(\n\t\t() => new SourceConnector(manager.getBackend()),\n\t\t[manager],\n\t)\n\tuseIsomorphicLayoutEffect(() => {\n\t\tconnector.dragSourceOptions = dragSourceOptions || null\n\t\tconnector.reconnect()\n\t\treturn () => connector.disconnectDragSource()\n\t}, [connector, dragSourceOptions])\n\tuseIsomorphicLayoutEffect(() => {\n\t\tconnector.dragPreviewOptions = dragPreviewOptions || null\n\t\tconnector.reconnect()\n\t\treturn () => connector.disconnectDragPreview()\n\t}, [connector, dragPreviewOptions])\n\treturn connector\n}\n","// extracted by mini-css-extract-plugin\nexport default {\"item\":\"burger-ingredients-item_item__UhcbI\",\"price\":\"burger-ingredients-item_price__eIaly\",\"dragging\":\"burger-ingredients-item_dragging__WlvUM\"};","import { FC } from \"react\";\nimport { Link, useLocation } from \"react-router-dom\";\nimport { useDrag } from \"react-dnd\";\nimport { TIngredient } from \"@config/types\";\nimport {\n  Counter,\n  CurrencyIcon,\n} from \"@ya.praktikum/react-developer-burger-ui-components\";\n\nimport styles from \"./burger-ingredients-item.module.css\";\n\ntype TBurgerIngredientsItemProps = {\n  ingredient: TIngredient;\n};\n\nconst BurgerIngredientsItem: FC<TBurgerIngredientsItemProps> = ({\n  ingredient,\n}) => {\n  const location = useLocation();\n  const [{ isDragging }, dragIngredient, dragPreview] = useDrag({\n    type: \"ingredient\",\n    item: {\n      ingredient,\n    },\n    collect: (monitor) => ({\n      isDragging: monitor.isDragging(),\n    }),\n  });\n\n  return (\n    <div\n      className={`${styles.item} ${isDragging ? styles.dragging : \"\"}`}\n      ref={dragIngredient}\n    >\n      <Link\n        className=\"text_color_primary\"\n        to={`/ingredients/${ingredient._id}`}\n        state={{ prevLocation: location }}\n      >\n        {ingredient.include ? (\n          <Counter count={ingredient.include} size=\"default\" extraClass=\"m-5\" />\n        ) : null}\n        <img\n          ref={dragPreview}\n          src={ingredient.image}\n          alt={ingredient.name}\n          className=\"ml-4 mr-4\"\n        />\n        <div className={styles.price}>\n          <span className=\"text text_type_digits-default pr-2\">\n            {ingredient.price}\n          </span>\n          <CurrencyIcon type=\"primary\" />\n        </div>\n        <p className=\"text text_type_main-small text-center\">\n          {ingredient.name}\n        </p>\n      </Link>\n    </div>\n  );\n};\n\nexport default BurgerIngredientsItem;\n","// extracted by mini-css-extract-plugin\nexport default {\"section\":\"burger-ingredients_section__mzb-Y\",\"tabs\":\"burger-ingredients_tabs__gJv1+\",\"ingredients\":\"burger-ingredients_ingredients__s7nFm\"};","import BurgerIngredientsItem from \"@components/burger-ingredients/burger-ingredients-item/burger-ingredients-item\";\nimport { useEffect, useMemo, useRef, useState } from \"react\";\nimport { TIngredient } from \"@config/types\";\nimport { Tab } from \"@ya.praktikum/react-developer-burger-ui-components\";\nimport { useAppSelector } from \"@store/store\";\nimport styles from \"./burger-ingredients.module.css\";\n\nconst BUN_TYPE = \"bun\";\nconst MAIN_TYPE = \"main\";\nconst SAUCE_TYPE = \"sauce\";\n\nconst BUN = { type: BUN_TYPE, scroll: true };\nconst MAIN = { type: MAIN_TYPE, scroll: true };\nconst SAUCE = { type: SAUCE_TYPE, scroll: true };\n\ntype TBun = {\n  type: string;\n  scroll: boolean;\n};\n\nconst BurgerIngredients = () => {\n  const ingredients = useAppSelector((store) => store.ingredients.ingredients);\n\n  const [currentTab, setCurrentTab] = useState<TBun>(BUN);\n\n  const bunTarget = useRef<HTMLParagraphElement>(null);\n  const mainTarget = useRef<HTMLParagraphElement>(null);\n  const sauceTarget = useRef<HTMLParagraphElement>(null);\n\n  const scrollWindow = useRef<HTMLDivElement>(null);\n\n  useEffect(() => {\n    if (!currentTab.scroll) {\n      return;\n    }\n    switch (currentTab.type) {\n      case BUN_TYPE:\n        (bunTarget.current as HTMLParagraphElement).scrollIntoView({\n          behavior: \"smooth\",\n        });\n        break;\n      case MAIN_TYPE:\n        (mainTarget.current as HTMLParagraphElement).scrollIntoView({\n          behavior: \"smooth\",\n        });\n        break;\n      case SAUCE_TYPE:\n        (sauceTarget.current as HTMLParagraphElement).scrollIntoView({\n          behavior: \"smooth\",\n        });\n        break;\n      default:\n        break;\n    }\n  }, [currentTab]);\n\n  useEffect(() => {\n    const targets = [\n      bunTarget.current,\n      mainTarget.current,\n      sauceTarget.current,\n    ];\n    const observer = new IntersectionObserver(\n      (entries: IntersectionObserverEntry[]) => {\n        entries.every((entry: IntersectionObserverEntry) => {\n          if (entry.isIntersecting) {\n            switch (entry.target) {\n              case bunTarget.current:\n                setCurrentTab({ ...BUN, scroll: false });\n                return false;\n              case sauceTarget.current:\n                setCurrentTab({ ...SAUCE, scroll: false });\n                return false;\n              case mainTarget.current:\n                setCurrentTab({ ...MAIN, scroll: false });\n                return false;\n              default:\n                break;\n            }\n          }\n          return true;\n        });\n      },\n      {\n        root: scrollWindow.current,\n        rootMargin: \"0px 0px -90% 0px\",\n      }\n    );\n\n    targets.forEach((target) =>\n      observer.observe(target as HTMLParagraphElement)\n    );\n  }, []);\n\n  const buns = useMemo(\n    () => ingredients.filter((elm: TIngredient) => elm.type === BUN_TYPE),\n    [ingredients]\n  );\n  const sauces = useMemo(\n    () => ingredients.filter((elm: TIngredient) => elm.type === SAUCE_TYPE),\n    [ingredients]\n  );\n  const mains = useMemo(\n    () => ingredients.filter((elm: TIngredient) => elm.type === MAIN_TYPE),\n    [ingredients]\n  );\n\n  return (\n    <section className={styles.section}>\n      <p className=\"text text_type_main-large mt-10 pb-5\">Соберите бургер</p>\n      <div className={styles.tabs}>\n        <Tab\n          value={BUN_TYPE}\n          active={currentTab.type === BUN_TYPE}\n          onClick={() => {\n            setCurrentTab(BUN);\n          }}\n        >\n          Булки\n        </Tab>\n        <Tab\n          value={SAUCE_TYPE}\n          active={currentTab.type === SAUCE_TYPE}\n          onClick={() => {\n            setCurrentTab(SAUCE);\n          }}\n        >\n          Соусы\n        </Tab>\n        <Tab\n          value={MAIN_TYPE}\n          active={currentTab.type === MAIN_TYPE}\n          onClick={() => {\n            setCurrentTab(MAIN);\n          }}\n        >\n          Начинки\n        </Tab>\n      </div>\n      <div className={`${styles.ingredients} mt-5`} ref={scrollWindow}>\n        <p className=\"text text_type_main-medium mt-5 w-100\" ref={bunTarget}>\n          Булки\n        </p>\n        {buns.map((item: TIngredient) => (\n          <BurgerIngredientsItem key={item._id} ingredient={item} />\n        ))}\n\n        <p className=\"text text_type_main-medium mt-10 w-100\" ref={sauceTarget}>\n          Соусы\n        </p>\n        {sauces.map((item: TIngredient) => (\n          <BurgerIngredientsItem key={item._id} ingredient={item} />\n        ))}\n\n        <p className=\"text text_type_main-medium mt-10 w-100\" ref={mainTarget}>\n          Начинки\n        </p>\n        {mains.map((item: TIngredient) => (\n          <BurgerIngredientsItem key={item._id} ingredient={item} />\n        ))}\n      </div>\n    </section>\n  );\n};\n\nexport default BurgerIngredients;\n","import { useMemo } from 'react'\n\nimport type { TargetConnector } from '../../internals/index.js'\n\nexport function useConnectDropTarget(connector: TargetConnector) {\n\treturn useMemo(() => connector.hooks.dropTarget(), [connector])\n}\n","import { shallowEqual } from '@react-dnd/shallowequal'\nimport type { Backend, Identifier, Unsubscribe } from 'dnd-core'\nimport type { RefObject } from 'react'\n\nimport type { DropTargetOptions } from '../types/index.js'\nimport { isRef } from './isRef.js'\nimport type { Connector } from './SourceConnector.js'\nimport { wrapConnectorHooks } from './wrapConnectorHooks.js'\n\nexport class TargetConnector implements Connector {\n\tpublic hooks = wrapConnectorHooks({\n\t\tdropTarget: (node: any, options: DropTargetOptions) => {\n\t\t\tthis.clearDropTarget()\n\t\t\tthis.dropTargetOptions = options\n\t\t\tif (isRef(node)) {\n\t\t\t\tthis.dropTargetRef = node\n\t\t\t} else {\n\t\t\t\tthis.dropTargetNode = node\n\t\t\t}\n\t\t\tthis.reconnect()\n\t\t},\n\t})\n\n\tprivate handlerId: Identifier | null = null\n\t// The drop target may either be attached via ref or connect function\n\tprivate dropTargetRef: RefObject<any> | null = null\n\tprivate dropTargetNode: any\n\tprivate dropTargetOptionsInternal: DropTargetOptions | null = null\n\tprivate unsubscribeDropTarget: Unsubscribe | undefined\n\n\tprivate lastConnectedHandlerId: Identifier | null = null\n\tprivate lastConnectedDropTarget: any = null\n\tprivate lastConnectedDropTargetOptions: DropTargetOptions | null = null\n\tprivate readonly backend: Backend\n\n\tpublic constructor(backend: Backend) {\n\t\tthis.backend = backend\n\t}\n\n\tpublic get connectTarget(): any {\n\t\treturn this.dropTarget\n\t}\n\n\tpublic reconnect(): void {\n\t\t// if nothing has changed then don't resubscribe\n\t\tconst didChange =\n\t\t\tthis.didHandlerIdChange() ||\n\t\t\tthis.didDropTargetChange() ||\n\t\t\tthis.didOptionsChange()\n\n\t\tif (didChange) {\n\t\t\tthis.disconnectDropTarget()\n\t\t}\n\n\t\tconst dropTarget = this.dropTarget\n\t\tif (!this.handlerId) {\n\t\t\treturn\n\t\t}\n\t\tif (!dropTarget) {\n\t\t\tthis.lastConnectedDropTarget = dropTarget\n\t\t\treturn\n\t\t}\n\n\t\tif (didChange) {\n\t\t\tthis.lastConnectedHandlerId = this.handlerId\n\t\t\tthis.lastConnectedDropTarget = dropTarget\n\t\t\tthis.lastConnectedDropTargetOptions = this.dropTargetOptions\n\n\t\t\tthis.unsubscribeDropTarget = this.backend.connectDropTarget(\n\t\t\t\tthis.handlerId,\n\t\t\t\tdropTarget,\n\t\t\t\tthis.dropTargetOptions,\n\t\t\t)\n\t\t}\n\t}\n\n\tpublic receiveHandlerId(newHandlerId: Identifier | null): void {\n\t\tif (newHandlerId === this.handlerId) {\n\t\t\treturn\n\t\t}\n\n\t\tthis.handlerId = newHandlerId\n\t\tthis.reconnect()\n\t}\n\n\tpublic get dropTargetOptions(): DropTargetOptions {\n\t\treturn this.dropTargetOptionsInternal\n\t}\n\tpublic set dropTargetOptions(options: DropTargetOptions) {\n\t\tthis.dropTargetOptionsInternal = options\n\t}\n\n\tprivate didHandlerIdChange(): boolean {\n\t\treturn this.lastConnectedHandlerId !== this.handlerId\n\t}\n\n\tprivate didDropTargetChange(): boolean {\n\t\treturn this.lastConnectedDropTarget !== this.dropTarget\n\t}\n\n\tprivate didOptionsChange(): boolean {\n\t\treturn !shallowEqual(\n\t\t\tthis.lastConnectedDropTargetOptions,\n\t\t\tthis.dropTargetOptions,\n\t\t)\n\t}\n\n\tpublic disconnectDropTarget() {\n\t\tif (this.unsubscribeDropTarget) {\n\t\t\tthis.unsubscribeDropTarget()\n\t\t\tthis.unsubscribeDropTarget = undefined\n\t\t}\n\t}\n\n\tprivate get dropTarget() {\n\t\treturn (\n\t\t\tthis.dropTargetNode || (this.dropTargetRef && this.dropTargetRef.current)\n\t\t)\n\t}\n\n\tprivate clearDropTarget() {\n\t\tthis.dropTargetRef = null\n\t\tthis.dropTargetNode = null\n\t}\n}\n","import { invariant } from '@react-dnd/invariant'\nimport type {\n\tDragDropManager,\n\tDragDropMonitor,\n\tIdentifier,\n\tListener,\n\tUnsubscribe,\n\tXYCoord,\n} from 'dnd-core'\n\nimport type { DropTargetMonitor } from '../types/index.js'\n\nlet isCallingCanDrop = false\n\nexport class DropTargetMonitorImpl implements DropTargetMonitor {\n\tprivate internalMonitor: DragDropMonitor\n\tprivate targetId: Identifier | null = null\n\n\tpublic constructor(manager: DragDropManager) {\n\t\tthis.internalMonitor = manager.getMonitor()\n\t}\n\n\tpublic receiveHandlerId(targetId: Identifier | null): void {\n\t\tthis.targetId = targetId\n\t}\n\n\tpublic getHandlerId(): Identifier | null {\n\t\treturn this.targetId\n\t}\n\n\tpublic subscribeToStateChange(\n\t\tlistener: Listener,\n\t\toptions?: { handlerIds?: Identifier[] },\n\t): Unsubscribe {\n\t\treturn this.internalMonitor.subscribeToStateChange(listener, options)\n\t}\n\n\tpublic canDrop(): boolean {\n\t\t// Cut out early if the target id has not been set. This should prevent errors\n\t\t// where the user has an older version of dnd-core like in\n\t\t// https://github.com/react-dnd/react-dnd/issues/1310\n\t\tif (!this.targetId) {\n\t\t\treturn false\n\t\t}\n\t\tinvariant(\n\t\t\t!isCallingCanDrop,\n\t\t\t'You may not call monitor.canDrop() inside your canDrop() implementation. ' +\n\t\t\t\t'Read more: http://react-dnd.github.io/react-dnd/docs/api/drop-target-monitor',\n\t\t)\n\n\t\ttry {\n\t\t\tisCallingCanDrop = true\n\t\t\treturn this.internalMonitor.canDropOnTarget(this.targetId)\n\t\t} finally {\n\t\t\tisCallingCanDrop = false\n\t\t}\n\t}\n\n\tpublic isOver(options?: { shallow?: boolean }): boolean {\n\t\tif (!this.targetId) {\n\t\t\treturn false\n\t\t}\n\t\treturn this.internalMonitor.isOverTarget(this.targetId, options)\n\t}\n\n\tpublic getItemType(): Identifier | null {\n\t\treturn this.internalMonitor.getItemType()\n\t}\n\n\tpublic getItem(): any {\n\t\treturn this.internalMonitor.getItem()\n\t}\n\n\tpublic getDropResult(): any {\n\t\treturn this.internalMonitor.getDropResult()\n\t}\n\n\tpublic didDrop(): boolean {\n\t\treturn this.internalMonitor.didDrop()\n\t}\n\n\tpublic getInitialClientOffset(): XYCoord | null {\n\t\treturn this.internalMonitor.getInitialClientOffset()\n\t}\n\n\tpublic getInitialSourceClientOffset(): XYCoord | null {\n\t\treturn this.internalMonitor.getInitialSourceClientOffset()\n\t}\n\n\tpublic getSourceClientOffset(): XYCoord | null {\n\t\treturn this.internalMonitor.getSourceClientOffset()\n\t}\n\n\tpublic getClientOffset(): XYCoord | null {\n\t\treturn this.internalMonitor.getClientOffset()\n\t}\n\n\tpublic getDifferenceFromInitialOffset(): XYCoord | null {\n\t\treturn this.internalMonitor.getDifferenceFromInitialOffset()\n\t}\n}\n","import type { DropTarget } from 'dnd-core'\n\nimport type { DropTargetMonitor } from '../../types/index.js'\nimport type { DropTargetHookSpec } from '../types.js'\n\nexport class DropTargetImpl<O, R, P> implements DropTarget {\n\tpublic constructor(\n\t\tpublic spec: DropTargetHookSpec<O, R, P>,\n\t\tprivate monitor: DropTargetMonitor<O, R>,\n\t) {}\n\n\tpublic canDrop() {\n\t\tconst spec = this.spec\n\t\tconst monitor = this.monitor\n\t\treturn spec.canDrop ? spec.canDrop(monitor.getItem(), monitor) : true\n\t}\n\n\tpublic hover() {\n\t\tconst spec = this.spec\n\t\tconst monitor = this.monitor\n\t\tif (spec.hover) {\n\t\t\tspec.hover(monitor.getItem(), monitor)\n\t\t}\n\t}\n\n\tpublic drop() {\n\t\tconst spec = this.spec\n\t\tconst monitor = this.monitor\n\t\tif (spec.drop) {\n\t\t\treturn spec.drop(monitor.getItem(), monitor)\n\t\t}\n\t\treturn\n\t}\n}\n","import type { TargetConnector } from '../../internals/index.js'\nimport { registerTarget } from '../../internals/index.js'\nimport type { DropTargetMonitor } from '../../types/index.js'\nimport type { DropTargetHookSpec } from '../types.js'\nimport { useDragDropManager } from '../useDragDropManager.js'\nimport { useIsomorphicLayoutEffect } from '../useIsomorphicLayoutEffect.js'\nimport { useAccept } from './useAccept.js'\nimport { useDropTarget } from './useDropTarget.js'\n\nexport function useRegisteredDropTarget<O, R, P>(\n\tspec: DropTargetHookSpec<O, R, P>,\n\tmonitor: DropTargetMonitor<O, R>,\n\tconnector: TargetConnector,\n): void {\n\tconst manager = useDragDropManager()\n\tconst dropTarget = useDropTarget(spec, monitor)\n\tconst accept = useAccept(spec)\n\n\tuseIsomorphicLayoutEffect(\n\t\tfunction registerDropTarget() {\n\t\t\tconst [handlerId, unregister] = registerTarget(\n\t\t\t\taccept,\n\t\t\t\tdropTarget,\n\t\t\t\tmanager,\n\t\t\t)\n\t\t\tmonitor.receiveHandlerId(handlerId)\n\t\t\tconnector.receiveHandlerId(handlerId)\n\t\t\treturn unregister\n\t\t},\n\t\t[\n\t\t\tmanager,\n\t\t\tmonitor,\n\t\t\tdropTarget,\n\t\t\tconnector,\n\t\t\taccept.map((a) => a.toString()).join('|'),\n\t\t],\n\t)\n}\n","import { useEffect, useMemo } from 'react'\n\nimport type { DropTargetMonitor } from '../../types/index.js'\nimport type { DropTargetHookSpec } from '../types.js'\nimport { DropTargetImpl } from './DropTargetImpl.js'\n\nexport function useDropTarget<O, R, P>(\n\tspec: DropTargetHookSpec<O, R, P>,\n\tmonitor: DropTargetMonitor<O, R>,\n) {\n\tconst dropTarget = useMemo(() => new DropTargetImpl(spec, monitor), [monitor])\n\tuseEffect(() => {\n\t\tdropTarget.spec = spec\n\t}, [spec])\n\treturn dropTarget\n}\n","import { invariant } from '@react-dnd/invariant'\nimport type { Identifier } from 'dnd-core'\nimport { useMemo } from 'react'\n\nimport type { DropTargetHookSpec } from '../types.js'\n\n/**\n * Internal utility hook to get an array-version of spec.accept.\n * The main utility here is that we aren't creating a new array on every render if a non-array spec.accept is passed in.\n * @param spec\n */\nexport function useAccept<O, R, P>(\n\tspec: DropTargetHookSpec<O, R, P>,\n): Identifier[] {\n\tconst { accept } = spec\n\treturn useMemo(() => {\n\t\tinvariant(spec.accept != null, 'accept must be defined')\n\t\treturn Array.isArray(accept) ? accept : [accept]\n\t}, [accept])\n}\n","import type { ConnectDropTarget } from '../../types/index.js'\nimport type { DropTargetHookSpec, FactoryOrInstance } from '../types.js'\nimport { useCollectedProps } from '../useCollectedProps.js'\nimport { useOptionalFactory } from '../useOptionalFactory.js'\nimport { useConnectDropTarget } from './connectors.js'\nimport { useDropTargetConnector } from './useDropTargetConnector.js'\nimport { useDropTargetMonitor } from './useDropTargetMonitor.js'\nimport { useRegisteredDropTarget } from './useRegisteredDropTarget.js'\n\n/**\n * useDropTarget Hook\n * @param spec The drop target specification (object or function, function preferred)\n * @param deps The memoization deps array to use when evaluating spec changes\n */\nexport function useDrop<\n\tDragObject = unknown,\n\tDropResult = unknown,\n\tCollectedProps = unknown,\n>(\n\tspecArg: FactoryOrInstance<\n\t\tDropTargetHookSpec<DragObject, DropResult, CollectedProps>\n\t>,\n\tdeps?: unknown[],\n): [CollectedProps, ConnectDropTarget] {\n\tconst spec = useOptionalFactory(specArg, deps)\n\tconst monitor = useDropTargetMonitor<DragObject, DropResult>()\n\tconst connector = useDropTargetConnector(spec.options)\n\tuseRegisteredDropTarget(spec, monitor, connector)\n\n\treturn [\n\t\tuseCollectedProps(spec.collect, monitor, connector),\n\t\tuseConnectDropTarget(connector),\n\t]\n}\n","import { useMemo } from 'react'\n\nimport { DropTargetMonitorImpl } from '../../internals/index.js'\nimport type { DropTargetMonitor } from '../../types/index.js'\nimport { useDragDropManager } from '../useDragDropManager.js'\n\nexport function useDropTargetMonitor<O, R>(): DropTargetMonitor<O, R> {\n\tconst manager = useDragDropManager()\n\treturn useMemo(() => new DropTargetMonitorImpl(manager), [manager])\n}\n","import { useMemo } from 'react'\n\nimport { TargetConnector } from '../../internals/index.js'\nimport type { DropTargetOptions } from '../../types/index.js'\nimport { useDragDropManager } from '../useDragDropManager.js'\nimport { useIsomorphicLayoutEffect } from '../useIsomorphicLayoutEffect.js'\n\nexport function useDropTargetConnector(\n\toptions: DropTargetOptions,\n): TargetConnector {\n\tconst manager = useDragDropManager()\n\tconst connector = useMemo(\n\t\t() => new TargetConnector(manager.getBackend()),\n\t\t[manager],\n\t)\n\tuseIsomorphicLayoutEffect(() => {\n\t\tconnector.dropTargetOptions = options || null\n\t\tconnector.reconnect()\n\t\treturn () => connector.disconnectDropTarget()\n\t}, [options])\n\treturn connector\n}\n","export { urlAlphabet } from './url-alphabet/index.js'\nexport let random = bytes => crypto.getRandomValues(new Uint8Array(bytes))\nexport let customRandom = (alphabet, defaultSize, getRandom) => {\n  let mask = (2 << (Math.log(alphabet.length - 1) / Math.LN2)) - 1\n  let step = -~((1.6 * mask * defaultSize) / alphabet.length)\n  return (size = defaultSize) => {\n    let id = ''\n    while (true) {\n      let bytes = getRandom(step)\n      let j = step\n      while (j--) {\n        id += alphabet[bytes[j] & mask] || ''\n        if (id.length === size) return id\n      }\n    }\n  }\n}\nexport let customAlphabet = (alphabet, size = 21) =>\n  customRandom(alphabet, size, random)\nexport let nanoid = (size = 21) =>\n  crypto.getRandomValues(new Uint8Array(size)).reduce((id, byte) => {\n    byte &= 63\n    if (byte < 36) {\n      id += byte.toString(36)\n    } else if (byte < 62) {\n      id += (byte - 26).toString(36).toUpperCase()\n    } else if (byte > 62) {\n      id += '-'\n    } else {\n      id += '_'\n    }\n    return id\n  }, '')\n","// extracted by mini-css-extract-plugin\nexport default {\"orderId\":\"order-details_orderId__vbIeQ\",\"ready\":\"order-details_ready__c0m9X\"};","import ready from \"@images/ready.png\";\nimport { useAppSelector } from \"@store/store\";\nimport Loader from \"@components/loader/loader\";\n\nimport styles from \"./order-details.module.css\";\n\nconst OrderDetails = () => {\n  const order = useAppSelector((store) => store.order);\n\n  if (order.loading) {\n    return <Loader />;\n  }\n  return (\n    <>\n      {order !== null && order.success ? (\n        <div className=\"pl-5 pr-5 text-center\">\n          <p className={`${styles.orderId} text text_type_digits-large mb-1`}>\n            {order.order.number}\n          </p>\n          <p className=\"text text_type_main-medium mb-5\">\n            идентификатор заказа\n          </p>\n          <p className=\"text text_type_main-large mb-5\">{order.name}</p>\n          <img src={ready} className={styles.ready} alt=\"Заказ подтвержден\" />\n          <p className=\"text text_type_main-default mt-15 mb-2\">\n            Ваш заказ начали готовить\n          </p>\n          <p className=\"text text_type_main-default text_color_inactive mb-10\">\n            Дождитесь готовности на орбитальной станции\n          </p>\n        </div>\n      ) : (\n        <>\n          <div className=\"pl-25 pr-25 text-center\">\n            <p className=\"text text_type_main-large mb-5\">\n              Что-то пошло не так...\n            </p>\n            <p className=\"text text_type_main-medium mb-5\">\n              Повторите заказ чуть позже\n            </p>\n          </div>\n        </>\n      )}\n    </>\n  );\n};\n\nexport default OrderDetails;\n","// extracted by mini-css-extract-plugin\nexport default {\"section\":\"burger-constructor_section__IR4uo\",\"list\":\"burger-constructor_list__ehxn5\",\"target\":\"burger-constructor_target__09uW-\",\"scrolled\":\"burger-constructor_scrolled__z3tVf\",\"item\":\"burger-constructor_item__Ev+0H\",\"drag\":\"burger-constructor_drag__1Dl4j\",\"footer\":\"burger-constructor_footer__dVvgE\",\"empty_filling\":\"burger-constructor_empty_filling__k3j6I\",\"empty_bun_top\":\"burger-constructor_empty_bun_top__oAAZU\",\"empty_bun_bottom\":\"burger-constructor_empty_bun_bottom__jhEg9\"};","import {\n  ConstructorElement,\n  DragIcon,\n} from \"@ya.praktikum/react-developer-burger-ui-components\";\nimport { FC, useRef } from \"react\";\nimport { TIngredient } from \"@config/types\";\nimport { useDrag, useDrop } from \"react-dnd\";\n\nimport styles from \"../burger-constructor.module.css\";\n\ntype TBurgerConstructorItemProps = {\n  ingredient: TIngredient;\n  onDelete: (ingredientId: string, tmpId: string) => void;\n  index: number;\n  onSwap: (first: number, second: number) => void;\n};\n\nconst BurgerConstructorItem: FC<TBurgerConstructorItemProps> = ({\n  ingredient,\n  onDelete,\n  index,\n  onSwap,\n}) => {\n  const ingredientRef = useRef<HTMLDivElement>(null);\n\n  const [, drop] = useDrop({\n    accept: \"item\",\n    hover(item: { index: number }) {\n      if (item.index === index) {\n        return;\n      }\n      onSwap(item.index, index);\n      item.index = index;\n    },\n  });\n\n  const [, drag] = useDrag({\n    type: \"item\",\n    item: { index },\n  });\n\n  drag(drop(ingredientRef));\n\n  return (\n    <div className={`${styles.item} cursor-grab`} ref={ingredientRef}>\n      <div className={styles.drag}>\n        <DragIcon type=\"primary\" />\n      </div>\n      <ConstructorElement\n        isLocked={ingredient.locked}\n        text={ingredient.name}\n        price={ingredient.price}\n        thumbnail={ingredient.image}\n        handleClose={() =>\n          ingredient.id && onDelete(ingredient._id, ingredient.id)\n        }\n      />\n    </div>\n  );\n};\n\nexport default BurgerConstructorItem;\n","import { useEffect, useMemo, useRef } from \"react\";\nimport { useDrop } from \"react-dnd\";\nimport { nanoid } from \"nanoid\";\nimport { TBurger, TIngredient } from \"@config/types\";\nimport {\n  ConstructorElement,\n  CurrencyIcon,\n  Button,\n} from \"@ya.praktikum/react-developer-burger-ui-components\";\nimport Modal from \"@components/modal/modal\";\nimport OrderDetails from \"@components/order-details/order-details\";\nimport { useModal } from \"@hooks/use-modal\";\nimport {\n  burgerAddIngredient,\n  burgerClearIngredients,\n  burgerLock,\n  burgerRemoveIngredient,\n  burgerSwapIngredients,\n} from \"@store/reducers/burger-reducer\";\nimport {\n  ingredientCounterDec,\n  ingredientCounterInc,\n  ingredientsCountersReset,\n} from \"@store/reducers/ingredients-reducer\";\nimport { orderClear, orderCreate } from \"@store/reducers/order-reducer\";\nimport { useAppDispatch, useAppSelector } from \"@store/store\";\nimport { useNavigate } from \"react-router-dom\";\nimport { PATH } from \"@config/constants\";\nimport BurgerConstructorItem from \"@components/burger-constructor/burger-constructor-item/burger-constructor-item\";\n\nimport styles from \"./burger-constructor.module.css\";\n\nconst BurgerConstructor = () => {\n  const dispatch = useAppDispatch();\n\n  const burger: TBurger = useAppSelector((store) => store.burger);\n  const { loading, success } = useAppSelector((store) => store.order);\n  const { authorized } = useAppSelector((store) => store.user);\n\n  const { isModalOpen, openModal, closeModal } = useModal(false);\n\n  const scrolledWindow = useRef<HTMLDivElement>(null);\n\n  const navigate = useNavigate();\n\n  useEffect(() => {\n    onResize();\n    window.addEventListener(\"resize\", onResize);\n\n    return () => {\n      window.removeEventListener(\"resize\", onResize);\n    };\n  }, []);\n\n  useEffect(() => {\n    if (success) {\n      dispatch(burgerClearIngredients());\n      dispatch(ingredientsCountersReset());\n      !isModalOpen && openModal();\n    }\n  }, [success, dispatch, isModalOpen, openModal]);\n\n  const onResize = () => {\n    const maxHeight = Math.ceil((window.innerHeight - 600) / 96) * 96;\n    (scrolledWindow.current as HTMLElement).style.maxHeight = `${\n      maxHeight < 96 ? 96 : maxHeight\n    }px`;\n  };\n\n  const [{ isHover }, dropIngredient] = useDrop({\n    accept: \"ingredient\",\n    drop: (item: { [key: string]: TIngredient }) => {\n      if (item.ingredient.type === \"bun\" && burger.bun) {\n        dispatch(ingredientCounterDec(burger.bun._id));\n      }\n      dispatch(burgerAddIngredient({ ...item.ingredient, id: nanoid() }));\n      dispatch(ingredientCounterInc(item.ingredient._id));\n    },\n    collect: (monitor) => ({\n      isHover: monitor.isOver(),\n    }),\n  });\n\n  const burgerEmpty = useMemo(\n    () => !(burger.bun !== null || burger.filling.length > 0),\n    [burger]\n  );\n\n  const burgerPrice = useMemo(\n    () =>\n      !burgerEmpty\n        ? burger.filling.reduce(\n            (acc, item) => acc + item.price,\n            burger.bun ? burger.bun.price * 2 : 0\n          )\n        : 0,\n    [burger, burgerEmpty]\n  );\n\n  const deleteIngredient = (ingredientId: string, tmpId: string) => {\n    dispatch(burgerRemoveIngredient(tmpId));\n    dispatch(ingredientCounterDec(ingredientId));\n  };\n\n  const swapIngredients = (first: number, second: number) => {\n    dispatch(burgerSwapIngredients({ first, second }));\n  };\n\n  const createOrder = () => {\n    if (authorized) {\n      let tmp = burger.bun ? [burger.bun._id, burger.bun._id] : [];\n      tmp = [...tmp, ...burger.filling.map((item) => item._id)];\n      dispatch(burgerLock());\n      dispatch(orderCreate(tmp));\n      openModal();\n    } else {\n      navigate(PATH.LOGIN);\n    }\n  };\n\n  return (\n    <section className={styles.section} ref={dropIngredient}>\n      <div className={`${styles.list} ${isHover ? styles.target : \"\"}`}>\n        {burger.bun ? (\n          <div className={styles.item}>\n            <div className={styles.drag}></div>\n            <ConstructorElement\n              type=\"top\"\n              isLocked={true}\n              text={`${burger.bun.name} (верх)`}\n              price={burger.bun.price}\n              thumbnail={burger.bun.image}\n            />\n          </div>\n        ) : (\n          <div className={styles.item}>\n            <div className={styles.empty_bun_top}>\n              <p className=\"text text_type_main-default text_color_inactive\">\n                Перетащите булку\n              </p>\n            </div>\n          </div>\n        )}\n        <div className={styles.scrolled} ref={scrolledWindow}>\n          {burger.filling.length ? (\n            burger.filling.map((item, index) => (\n              <BurgerConstructorItem\n                ingredient={item}\n                onDelete={deleteIngredient}\n                index={index}\n                // уникальный id - генерируется при добавлении ингредиента в состав бургера (стр.77)\n                key={item.id}\n                onSwap={swapIngredients}\n              />\n            ))\n          ) : (\n            <div className={styles.item}>\n              <div className={styles.empty_filling}>\n                <p className=\"text text_type_main-default text_color_inactive\">\n                  Перетащите начинку\n                </p>\n              </div>\n            </div>\n          )}\n        </div>\n        {burger.bun ? (\n          <div className={styles.item}>\n            <div className={styles.drag}></div>\n            <ConstructorElement\n              type=\"bottom\"\n              isLocked={true}\n              text={`${burger.bun.name} (низ)`}\n              price={burger.bun.price}\n              thumbnail={burger.bun.image}\n            />\n          </div>\n        ) : (\n          <div className={styles.item}>\n            <div className={styles.empty_bun_bottom}>\n              <p className=\"text text_type_main-default text_color_inactive\">\n                Перетащите булку\n              </p>\n            </div>\n          </div>\n        )}\n      </div>\n      {!burgerEmpty && (\n        <div className={styles.footer}>\n          {loading ? (\n            <p className=\"text text_type_main-default text_color_inactive text-left\">\n              Ждите, идет обработка заказа...\n            </p>\n          ) : (\n            <>\n              <span className=\"text text_type_digits-medium mr-2\">\n                {burgerPrice}\n              </span>\n              <CurrencyIcon type=\"primary\" />\n\n              <Button\n                htmlType=\"button\"\n                type=\"primary\"\n                size=\"medium\"\n                extraClass=\"ml-10\"\n                onClick={createOrder}\n                disabled={loading}\n              >\n                Оформить заказ\n              </Button>\n            </>\n          )}\n        </div>\n      )}\n      {isModalOpen && (\n        <Modal\n          onClose={() => {\n            !loading && dispatch(orderClear());\n            closeModal();\n          }}\n        >\n          <OrderDetails />\n        </Modal>\n      )}\n    </section>\n  );\n};\n\nexport default BurgerConstructor;\n","import { Fragment } from \"react\";\nimport BurgerIngredients from \"@components/burger-ingredients/burger-ingredients\";\nimport BurgerConstructor from \"@components/burger-constructor/burger-constructor\";\n\nconst PageHome = () => {\n  return (\n    <Fragment>\n      <BurgerIngredients />\n      <BurgerConstructor />\n    </Fragment>\n  );\n};\n\nexport default PageHome;\n","'use strict';\n\n// do not edit .js files directly - edit src/index.jst\n\n\n\nmodule.exports = function equal(a, b) {\n  if (a === b) return true;\n\n  if (a && b && typeof a == 'object' && typeof b == 'object') {\n    if (a.constructor !== b.constructor) return false;\n\n    var length, i, keys;\n    if (Array.isArray(a)) {\n      length = a.length;\n      if (length != b.length) return false;\n      for (i = length; i-- !== 0;)\n        if (!equal(a[i], b[i])) return false;\n      return true;\n    }\n\n\n\n    if (a.constructor === RegExp) return a.source === b.source && a.flags === b.flags;\n    if (a.valueOf !== Object.prototype.valueOf) return a.valueOf() === b.valueOf();\n    if (a.toString !== Object.prototype.toString) return a.toString() === b.toString();\n\n    keys = Object.keys(a);\n    length = keys.length;\n    if (length !== Object.keys(b).length) return false;\n\n    for (i = length; i-- !== 0;)\n      if (!Object.prototype.hasOwnProperty.call(b, keys[i])) return false;\n\n    for (i = length; i-- !== 0;) {\n      var key = keys[i];\n\n      if (!equal(a[key], b[key])) return false;\n    }\n\n    return true;\n  }\n\n  // true if both NaN, false otherwise\n  return a!==a && b!==b;\n};\n"],"names":["_ref","onClose","children","_jsx","className","onClick","e","target","_ref$title","title","useEffect","onKeyDown","key","document","addEventListener","removeEventListener","createPortal","ModalOverlay","_jsxs","concat","styles","CloseIcon","type","getElementById","useModal","status","_useState","useState","_useState2","_slicedToArray","isModalOpen","setIsModalOpen","openModal","useCallback","closeModal","useIsomorphicLayoutEffect","window","useLayoutEffect","useMonitorOutput","monitor","collect","onCollect","_useCollector","onUpdate","collected","setCollected","updateCollected","nextValue","equal","useCollector","_useCollector2","handlerId","getHandlerId","subscribeToStateChange","handlerIds","useCollectedProps","collector","connector","reconnect","useOptionalFactory","arg","deps","memoDeps","_toConsumableArray","push","useMemo","useConnectDragSource","hooks","dragSource","useConnectDragPreview","dragPreview","shallowEqual","objA","objB","compare","compareContext","compareResult","call","keysA","Object","keys","keysB","length","bHasOwnProperty","prototype","hasOwnProperty","bind","idx","valueA","valueB","isRef","obj","wrapHookToRecognizeElement","hook","elementOrNode","arguments","undefined","options","isValidElement","node","element","displayName","name","Error","throwIfCompositeComponentElement","ref","newRef","previousRef","invariant","cloneElement","setRef","cloneWithRef","wrapConnectorHooks","wrappedHooks","forEach","endsWith","wrappedHook","current","SourceConnector","backend","_this","_classCallCheck","clearDragSource","dragSourceOptions","dragSourceRef","dragSourceNode","reconnectDragSource","clearDragPreview","dragPreviewOptions","dragPreviewRef","dragPreviewNode","reconnectDragPreview","dragSourceOptionsInternal","dragPreviewOptionsInternal","lastConnectedHandlerId","lastConnectedDragSource","lastConnectedDragSourceOptions","lastConnectedDragPreview","lastConnectedDragPreviewOptions","this","_createClass","value","newHandlerId","get","set","didChange","didHandlerIdChange","didConnectedDragSourceChange","didDragSourceOptionsChange","disconnectDragSource","dragSourceUnsubscribe","connectDragSource","forceDidChange","didConnectedDragPreviewChange","didDragPreviewOptionsChange","disconnectDragPreview","dragPreviewUnsubscribe","connectDragPreview","useDragDropManager","dragDropManager","useContext","DndContext","isCallingCanDrag","isCallingIsDragging","DragSourceMonitorImpl","manager","sourceId","internalMonitor","getMonitor","canDragSource","isDraggingSource","listener","targetId","isOverTarget","getTargetIds","isSourcePublic","getSourceId","subscribeToOffsetChange","canDropOnTarget","getItemType","getItem","getDropResult","didDrop","getInitialClientOffset","getInitialSourceClientOffset","getSourceClientOffset","getClientOffset","getDifferenceFromInitialOffset","DragSourceImpl","spec","result","item","canDrag","globalMonitor","isDragging","end","useRegisteredDragSource","handler","useDragSource","itemType","useDragType","_registerSource","source","registry","getRegistry","addSource","removeSource","registerSource","_registerSource2","unregister","receiveHandlerId","useDrag","specArg","begin","useDragSourceMonitor","getBackend","useDragSourceConnector","previewOptions","ingredient","location","useLocation","_useDrag","_useDrag2","dragIngredient","Link","to","_id","state","prevLocation","include","Counter","count","size","extraClass","src","image","alt","price","CurrencyIcon","BUN_TYPE","MAIN_TYPE","SAUCE_TYPE","BUN","scroll","MAIN","SAUCE","ingredients","useAppSelector","store","currentTab","setCurrentTab","bunTarget","useRef","mainTarget","sauceTarget","scrollWindow","scrollIntoView","behavior","targets","observer","IntersectionObserver","entries","every","entry","isIntersecting","_objectSpread","root","rootMargin","observe","buns","filter","elm","sauces","mains","Tab","active","map","BurgerIngredientsItem","useConnectDropTarget","dropTarget","TargetConnector","clearDropTarget","dropTargetOptions","dropTargetRef","dropTargetNode","dropTargetOptionsInternal","lastConnectedDropTarget","lastConnectedDropTargetOptions","didDropTargetChange","didOptionsChange","disconnectDropTarget","unsubscribeDropTarget","connectDropTarget","isCallingCanDrop","DropTargetMonitorImpl","DropTargetImpl","canDrop","hover","drop","useRegisteredDropTarget","useDropTarget","accept","Array","isArray","useAccept","_registerTarget","addTarget","removeTarget","registerTarget","_registerTarget2","a","toString","join","useDrop","useDropTargetMonitor","useDropTargetConnector","nanoid","crypto","getRandomValues","Uint8Array","reduce","id","byte","toUpperCase","order","loading","Loader","_Fragment","success","number","ready","onDelete","index","onSwap","ingredientRef","_useDrop","drag","DragIcon","ConstructorElement","isLocked","locked","text","thumbnail","handleClose","dispatch","useAppDispatch","burger","_useAppSelector","authorized","user","_useModal","scrolledWindow","navigate","useNavigate","onResize","burgerClearIngredients","ingredientsCountersReset","maxHeight","Math","ceil","innerHeight","style","bun","ingredientCounterDec","burgerAddIngredient","ingredientCounterInc","isHover","isOver","_useDrop2","dropIngredient","burgerEmpty","filling","burgerPrice","acc","deleteIngredient","ingredientId","tmpId","burgerRemoveIngredient","swapIngredients","first","second","burgerSwapIngredients","BurgerConstructorItem","Button","htmlType","tmp","burgerLock","orderCreate","PATH","disabled","Modal","orderClear","OrderDetails","Fragment","BurgerIngredients","BurgerConstructor","module","exports","b","constructor","i","RegExp","flags","valueOf"],"sourceRoot":""}